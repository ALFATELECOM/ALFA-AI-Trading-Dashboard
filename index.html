<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>TradingPro Automation - Professional Trading Solutions</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #6366f1;
            --secondary-color: #8b5cf6;
            --accent-color: #06d6a0;
            --dark-bg: #0f172a;
            --light-bg: #f8fafc;
            --text-dark: #1e293b;
            --text-light: #64748b;
            --white: #ffffff;
            --gradient: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--white);
            transition: all 0.3s ease;
        }

        body.dark-mode {
            background: var(--dark-bg);
            color: var(--white);
        }

        /* Header & Navigation */
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .dark-mode .header {
            background: rgba(15, 23, 42, 0.95);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-decoration: none;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 30px;
            align-items: center;
        }

        .nav-menu a {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }

        .dark-mode .nav-menu a {
            color: var(--white);
        }

        .nav-menu a:hover {
            color: var(--primary-color);
        }

        .theme-toggle {
            background: none;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: var(--primary-color);
            color: white;
        }

        .btn {
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-secondary:hover {
            background: var(--primary-color);
            color: white;
        }

        /* Hero Section */
        .hero {
            margin-top: 70px;
            min-height: 90vh;
            background: var(--gradient);
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .hero-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            font-weight: 800;
            color: white;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero-content p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 30px;
        }

        .cta-buttons {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .hero-visual {
            position: relative;
        }

        .dashboard-preview {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            color: white;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            color: white;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent-color);
        }

        .chart-placeholder {
            height: 120px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Services Section */
        .services {
            padding: 100px 0;
            background: var(--light-bg);
        }

        .dark-mode .services {
            background: var(--dark-bg);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 80px;
        }

        .section-header h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .section-header p {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
        }

        .service-card {
            background: white;
            padding: 40px 30px;
            border-radius: 20px;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .dark-mode .service-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
        }

        /* Dashboard Styles */
        .dashboard-tabs .tab-btn {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .dashboard-tabs .tab-btn.active {
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .dark-mode .dashboard-tabs {
            background: rgba(255, 255, 255, 0.05);
        }

        .dark-mode .dashboard-tabs .tab-btn.active {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .dark-mode .dash-card,
        .dark-mode .strategy-card,
        .dark-mode .broker-card,
        .dark-mode .settings-section,
        .dark-mode .signal-item {
            background: rgba(255, 255, 255, 0.05) !important;
            backdrop-filter: blur(10px);
        }

        .positive {
            color: var(--accent-color) !important;
        }

        .negative {
            color: #ef4444 !important;
        }

        /* Switch Styles */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .switch .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .switch .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        .switch input:checked + .slider {
            background-color: var(--primary-color);
        }

        .switch input:checked + .slider:before {
            transform: translateX(26px);
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .service-icon {
            width: 80px;
            height: 80px;
            background: var(--gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            font-size: 2rem;
            color: white;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            border-radius: 20px;
            position: relative;
        }

        .dark-mode .modal-content {
            background: var(--dark-bg);
            color: white;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: black;
        }

        .dark-mode .close:hover {
            color: white;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 15px;
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            font-size: 16px;
        }

        .dark-mode .form-group input,
        .dark-mode .form-group textarea,
        .dark-mode .form-group select {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-color: rgba(255, 255, 255, 0.2);
        }

        /* Data Feed Panel */
        .data-feed-panel {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            width: 280px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 1500;
            overflow: hidden;
        }

        .dark-mode .data-feed-panel {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
        }

        .feed-header {
            background: var(--gradient);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .minimize-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .minimize-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .feed-content {
            padding: 0;
            max-height: 300px;
            overflow-y: auto;
        }

        .feed-item {
            padding: 12px 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dark-mode .feed-item {
            border-bottom-color: rgba(255, 255, 255, 0.1);
        }

        .feed-item .symbol {
            font-weight: 600;
            font-size: 0.85rem;
        }

        .feed-item .price {
            font-weight: bold;
            font-size: 0.9rem;
        }

        .feed-item .change {
            font-size: 0.8rem;
            font-weight: 500;
        }

        .feed-item .change.positive {
            color: var(--accent-color);
        }

        .feed-item .change.negative {
            color: #ef4444;
        }

        /* Chat Widget */
        .chat-widget {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: var(--gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .chat-widget:hover {
            transform: scale(1.1);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-container {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .data-feed-panel {
                width: 250px;
                right: 10px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.6s ease forwards;
        }
    </style>
</head>
<body>
<!-- Header -->
<header class="header">
<nav class="nav-container">
<a class="logo" href="#">TradingPro</a>
<ul class="nav-menu">
<li><a href="#home">Home</a></li>
<li><a href="#services">Services</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#pricing">Pricing</a></li>
<li><a href="#contact">Contact</a></li>
<li><button class="btn btn-primary" onclick="showModal('loginModal')">Login</button></li>
<li><button class="theme-toggle" onclick="toggleTheme()"><i class="fas fa-moon"></i></button></li>
</ul>
</nav>
</header>
<!-- Hero Section -->
<section class="hero" id="home">
<div class="hero-container">
<div class="hero-content">
<h1>Advanced Trading Automation Solutions</h1>
<p>Maximize your trading potential with our cutting-edge algorithmic trading systems, real-time signals, and custom automation tools designed for professional traders.</p>
<div class="cta-buttons">
<a class="btn btn-primary" href="#contact">
<i class="fas fa-rocket"></i> Get Started
                    </a>
<a class="btn btn-secondary" href="#services">
<i class="fas fa-play"></i> Watch Demo
                    </a>
</div>
</div>
<div class="hero-visual">
<div class="dashboard-preview">
<div class="dashboard-header">
<h3>Live Trading Dashboard</h3>
<span class="status-indicator">‚óè LIVE</span>
</div>
<div class="stats-grid">
<div class="stat-card">
<div class="stat-value">+24.8%</div>
<div>Monthly Return</div>
</div>
<div class="stat-card">
<div class="stat-value">156</div>
<div>Active Signals</div>
</div>
<div class="stat-card">
<div class="stat-value">98.2%</div>
<div>Uptime</div>
</div>
<div class="stat-card">
<div class="stat-value">0.03s</div>
<div>Avg Latency</div>
</div>
</div>
<div class="chart-placeholder">
<i class="fas fa-chart-line"></i> Real-time Analytics
                    </div>
</div>
</div>
</div>
</section>
<!-- Services Section -->
<section class="services" id="services">
<div class="container">
<div class="section-header">
<h2>Our Trading Solutions</h2>
<p>Professional-grade trading automation services designed to give you the competitive edge in today's markets</p>
</div>
<div class="services-grid">
<div class="service-card">
<div class="service-icon">
<i class="fas fa-plug"></i>
</div>
<h3>API Bridge Connectivity</h3>
<p>Seamless integration with major trading platforms and brokers through our advanced API bridge technology.</p>
<a class="btn btn-primary" href="#contact">Learn More</a>
</div>
<div class="service-card">
<div class="service-icon">
<i class="fas fa-robot"></i>
</div>
<h3>Algorithmic Trading</h3>
<p>Fully automated trading strategies optimized for maximum efficiency and consistent performance.</p>
<a class="btn btn-primary" href="#contact">Learn More</a>
</div>
<div class="service-card">
<div class="service-icon">
<i class="fas fa-signal"></i>
</div>
<h3>Auto Buy/Sell Signals</h3>
<p>Real-time trading alerts and automated execution based on proven technical analysis algorithms.</p>
<a class="btn btn-primary" href="#contact">Learn More</a>
</div>
<div class="service-card">
<div class="service-icon">
<i class="fas fa-code"></i>
</div>
<h3>MQL Development</h3>
<p>Custom Expert Advisors and indicators for MetaTrader platforms tailored to your trading strategy.</p>
<a class="btn btn-primary" href="#contact">Learn More</a>
</div>
</div>
</div>
</section>
<!-- Login Modal -->
<div class="modal" id="loginModal">
<div class="modal-content">
<span class="close" onclick="closeModal('loginModal')">√ó</span>
<h2>Login to TradingPro</h2>
<p>Access your trading dashboard</p>
<!-- Demo Credentials Info -->
<div style="background: rgba(6, 214, 160, 0.1); padding: 15px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #06d6a0;">
<h4 style="color: #06d6a0; margin: 0 0 10px 0;">üéØ Demo Credentials:</h4>
<p style="margin: 5px 0; font-family: monospace;"><strong>Email:</strong> demo@trading.com</p>
<p style="margin: 5px 0; font-family: monospace;"><strong>Password:</strong> demo123</p>
<small style="color: #64748b;">Use these credentials to test the login system</small>
</div>
<form onsubmit="handleLogin(event)">
<div class="form-group">
<label for="loginEmail">Email</label>
<input id="loginEmail" placeholder="your@email.com" required="" type="email"/>
</div>
<div class="form-group">
<label for="loginPassword">Password</label>
<input id="loginPassword" placeholder="Enter password" required="" type="password"/>
</div>
<!-- Quick Fill Button -->
<button onclick="fillDemoCredentials()" style="background: rgba(99, 102, 241, 0.1); color: #6366f1; border: 1px solid #6366f1; padding: 8px 15px; border-radius: 5px; margin-bottom: 15px; cursor: pointer; font-size: 14px;" type="button">
                    üöÄ Fill Demo Credentials
                </button>
<button class="btn btn-primary" style="width: 100%;" type="submit">Login</button>
</form>
</div>
</div>
<!-- Real-time Data Feed Panel -->
<div class="data-feed-panel" id="dataFeedPanel">
<div class="feed-header">
<h4>üî¥ Live Market Data</h4>
<button class="minimize-btn" onclick="toggleDataFeed()">‚àí</button>
</div>
<div class="feed-content" id="feedContent">
<div class="feed-item">
<span class="symbol">NIFTY 50</span>
<span class="price">19,845.30</span>
<span class="change positive">+125.40 (+0.63%)</span>
</div>
<div class="feed-item">
<span class="symbol">BANK NIFTY</span>
<span class="price">45,280.75</span>
<span class="change negative">-89.25 (-0.20%)</span>
</div>
<div class="feed-item">
<span class="symbol">EUR/USD</span>
<span class="price">1.0875</span>
<span class="change positive">+0.0023 (+0.21%)</span>
</div>
<div class="feed-item">
<span class="symbol">GBP/USD</span>
<span class="price">1.2634</span>
<span class="change negative">-0.0012 (-0.09%)</span>
</div>
</div>
</div>
<!-- Advanced Order Modal -->
<div class="modal" id="advancedOrderModal" style="display: none;">
<div class="modal-content" style="max-width: 700px;">
<span class="close" onclick="closeModal('advancedOrderModal')">√ó</span>
<h3>Advanced Order Management</h3>
<!-- Order Form -->
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin: 25px 0;">
<div>
<h4 style="margin-bottom: 20px; color: var(--primary-color);">üìã Order Details</h4>
<div style="margin-bottom: 15px;">
<label style="display: block; margin-bottom: 5px; font-weight: 500;">Symbol</label>
<input id="orderSymbol" style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="text"/>
</div>
<div style="margin-bottom: 15px;">
<label style="display: block; margin-bottom: 5px; font-weight: 500;">Order Type</label>
<select id="orderTypeSelect" onchange="handleOrderTypeChange()" style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
<option value="market">Market Order</option>
<option value="limit">Limit Order</option>
<option value="stop-loss">Stop Loss</option>
<option value="stop-limit">Stop Limit</option>
<option value="trailing-stop">Trailing Stop Loss</option>
</select>
</div>
<div style="margin-bottom: 15px;">
<label style="display: block; margin-bottom: 5px; font-weight: 500;">Quantity</label>
<input id="orderQuantity" min="1" style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number" value="1"/>
</div>
<div style="margin-bottom: 15px;">
<label style="display: block; margin-bottom: 5px; font-weight: 500;">Price</label>
<input id="orderPrice" step="0.01" style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number"/>
</div>
</div>
<div>
<h4 style="margin-bottom: 20px; color: var(--primary-color);">‚öôÔ∏è Advanced Options</h4>
<!-- Trailing Stop Settings -->
<div id="trailingStopSection" style="display: none; background: rgba(6, 214, 160, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
<h5 style="margin-bottom: 10px; color: var(--accent-color);">üìà Trailing Stop Loss</h5>
<div style="margin-bottom: 10px;">
<label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Trail Distance</label>
<div style="display: flex; gap: 10px; align-items: center;">
<input id="trailDistance" max="20" min="0.5" step="0.5" style="width: 80px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number" value="3"/>
<select id="trailType" style="padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
<option value="percentage">%</option>
<option value="points">Points</option>
<option value="atr">ATR</option>
</select>
</div>
</div>
<div>
<label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Update Frequency</label>
<select id="trailFreq" style="width: 100%; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
<option value="realtime">Real-time</option>
<option value="5s">Every 5 seconds</option>
<option value="30s">Every 30 seconds</option>
<option value="1m">Every minute</option>
</select>
</div>
</div>
<!-- Other Advanced Options -->
<div style="margin-bottom: 15px;">
<label style="display: flex; align-items: center; gap: 10px;">
<input id="icebergOrder" type="checkbox"/>
<span>Iceberg Order</span>
</label>
<div id="icebergSettings" style="display: none; margin-top: 10px; margin-left: 30px;">
<input placeholder="Visible Quantity" style="width: 120px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number"/>
</div>
</div>
<div style="margin-bottom: 15px;">
<label style="display: flex; align-items: center; gap: 10px;">
<input id="timeInForce" type="checkbox"/>
<span>Time in Force</span>
</label>
<div id="tifSettings" style="display: none; margin-top: 10px; margin-left: 30px;">
<select style="width: 150px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
<option>Good Till Cancelled</option>
<option>Fill or Kill</option>
<option>Immediate or Cancel</option>
<option>Day Order</option>
</select>
</div>
</div>
<div style="margin-bottom: 15px;">
<label style="display: flex; align-items: center; gap: 10px;">
<input id="bracketOrder" type="checkbox"/>
<span>Bracket Order (SL + Target)</span>
</label>
<div id="bracketSettings" style="display: none; margin-top: 10px; margin-left: 30px;">
<div style="margin-bottom: 8px;">
<input placeholder="Stop Loss %" style="width: 100px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number"/>
</div>
<div>
<input placeholder="Target %" style="width: 100px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number"/>
</div>
</div>
</div>
</div>
</div>
<!-- Order Summary -->
<div style="background: var(--light-bg); padding: 20px; border-radius: 10px; margin: 20px 0;">
<h4 style="margin-bottom: 15px;">üìä Order Summary</h4>
<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; text-align: center;">
<div>
<div style="font-size: 0.9rem; color: var(--text-light);">Estimated Cost</div>
<div id="estimatedCost" style="font-size: 1.2rem; font-weight: bold; color: var(--primary-color);">‚Çπ0</div>
</div>
<div>
<div style="font-size: 0.9rem; color: var(--text-light);">Brokerage</div>
<div id="brokerageFee" style="font-size: 1.2rem; font-weight: bold; color: var(--primary-color);">‚Çπ20</div>
</div>
<div>
<div style="font-size: 0.9rem; color: var(--text-light);">Total Amount</div>
<div id="totalAmount" style="font-size: 1.2rem; font-weight: bold; color: var(--primary-color);">‚Çπ20</div>
</div>
</div>
</div>
<div style="display: flex; gap: 15px; justify-content: center;">
<button class="btn btn-primary" onclick="submitAdvancedOrder()">Place Order</button>
<button class="btn btn-secondary" onclick="closeModal('advancedOrderModal')">Cancel</button>
</div>
</div>
</div>
<!-- Portfolio Positions Modal -->
<div class="modal" id="portfolioModal" style="display: none;">
<div class="modal-content" style="max-width: 900px;">
<span class="close" onclick="closeModal('portfolioModal')">√ó</span>
<h3>Portfolio Positions</h3>
<div style="margin: 20px 0;">
<div style="display: flex; gap: 15px; margin-bottom: 20px;">
<button class="btn btn-primary btn-sm" onclick="showPositionType('all')">All Positions</button>
<button class="btn btn-secondary btn-sm" onclick="showPositionType('equity')">Equity</button>
<button class="btn btn-secondary btn-sm" onclick="showPositionType('forex')">Forex</button>
<button class="btn btn-secondary btn-sm" onclick="showPositionType('crypto')">Crypto</button>
</div>
<div style="overflow-x: auto;">
<table style="width: 100%; border-collapse: collapse;">
<thead>
<tr style="background: var(--light-bg);">
<th style="padding: 12px; text-align: left; border-bottom: 2px solid rgba(0,0,0,0.1);">Symbol</th>
<th style="padding: 12px; text-align: right; border-bottom: 2px solid rgba(0,0,0,0.1);">Qty</th>
<th style="padding: 12px; text-align: right; border-bottom: 2px solid rgba(0,0,0,0.1);">Avg Price</th>
<th style="padding: 12px; text-align: right; border-bottom: 2px solid rgba(0,0,0,0.1);">LTP</th>
<th style="padding: 12px; text-align: right; border-bottom: 2px solid rgba(0,0,0,0.1);">P&amp;L</th>
<th style="padding: 12px; text-align: center; border-bottom: 2px solid rgba(0,0,0,0.1);">Action</th>
</tr>
</thead>
<tbody id="positionsTableBody">
<tr>
<td style="padding: 12px; border-bottom: 1px solid rgba(0,0,0,0.1);"><strong>RELIANCE</strong></td>
<td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1);">+50</td>
<td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1);">‚Çπ2,450.00</td>
<td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1);">‚Çπ2,485.50</td>
<td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1); color: var(--accent-color); font-weight: bold;">+‚Çπ1,775</td>
<td style="padding: 12px; text-align: center; border-bottom: 1px solid rgba(0,0,0,0.1);">
<button class="btn btn-sm" style="background: #ef4444; color: white; padding: 6px 12px;">Close</button>
</td>
</tr>
<tr>
<td style="padding: 12px; border-bottom: 1px solid rgba(0,0,0,0.1);"><strong>TCS</strong></td>
<td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1);">+25</td>
<td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1);">‚Çπ3,680.00</td>
<td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1);">‚Çπ3,695.75</td>
<td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1); color: var(--accent-color); font-weight: bold;">+‚Çπ394</td>
<td style="padding: 12px; text-align: center; border-bottom: 1px solid rgba(0,0,0,0.1);">
<button class="btn btn-sm" style="background: #ef4444; color: white; padding: 6px 12px;">Close</button>
</td>
</tr>
<tr>
<td style="padding: 12px; border-bottom: 1px solid rgba(0,0,0,0.1);"><strong>EUR/USD</strong></td>
<td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1);">+10,000</td>
<td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1);">1.0850</td>
<td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1);">1.0875</td>
<td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1); color: var(--accent-color); font-weight: bold;">+‚Çπ2,100</td>
<td style="padding: 12px; text-align: center; border-bottom: 1px solid rgba(0,0,0,0.1);">
<button class="btn btn-sm" style="background: #ef4444; color: white; padding: 6px 12px;">Close</button>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<!-- Live Chat Widget -->
<div class="chat-widget" onclick="openChat()">
<i class="fas fa-comments"></i>
</div>
<style>
        /* Template Card Hover Effects */
        .template-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* Advanced Signal Animation */
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .signal-item.new {
            animation: slideIn 0.5s ease-out;
        }

        /* Enhanced Modal Styles */
        .modal-content {
            max-height: 90vh;
            overflow-y: auto;
        }

        /* Dark Mode Support for New Elements */
        .dark-mode .template-card,
        .dark-mode .modal-content,
        .dark-mode table {
            background: rgba(255, 255, 255, 0.05) !important;
            color: white;
        }

        .dark-mode table th,
        .dark-mode table td {
            border-bottom-color: rgba(255, 255, 255, 0.1) !important;
        }

        .dark-mode input,
        .dark-mode select,
        .dark-mode textarea {
            background: rgba(255, 255, 255, 0.1) !important;
            color: white !important;
            border-color: rgba(255, 255, 255, 0.2) !important;
        }

        /* Responsive Improvements */
        @media (max-width: 768px) {
            .dashboard-tabs {
                flex-wrap: wrap;
            }
            
            .tab-btn {
                min-width: 120px;
                margin-bottom: 5px;
            }
            
            .modal-content {
                margin: 2% auto;
                width: 95%;
                max-width: none;
            }
            
            .signal-item {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
                text-align: center;
            }
            
            .dashboard-grid,
            .settings-grid {
                grid-template-columns: 1fr !important;
            }
        }

        /* Performance Indicators */
        .performance-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .performance-indicator.good {
            background: var(--accent-color);
            animation: pulse 2s infinite;
        }

        .performance-indicator.warning {
            background: #f59e0b;
        }

        .performance-indicator.danger {
            background: #ef4444;
        }

        /* Enhanced Button States */
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn.loading {
            position: relative;
            color: transparent;
        }

        .btn.loading::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            top: 50%;
            left: 50%;
            margin-left: -8px;
            margin-top: -8px;
            border: 2px solid transparent;
            border-top-color: currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* Advanced Chart Styles */
        .chart-placeholder {
            position: relative;
            overflow: hidden;
        }

        .chart-placeholder::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Status Indicators */
        .status-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-dot.online {
            background: var(--accent-color);
            animation: pulse 2s infinite;
        }

        .status-dot.offline {
            background: #ef4444;
        }

        .status-dot.connecting {
            background: #f59e0b;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        /* Enhanced Form Elements */
        .form-group.required label::after {
            content: ' *';
            color: #ef4444;
        }

        .form-group.error input,
        .form-group.error select,
        .form-group.error textarea {
            border-color: #ef4444 !important;
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
        }

        .form-group.success input,
        .form-group.success select,
        .form-group.success textarea {
            border-color: var(--accent-color) !important;
            box-shadow: 0 0 0 3px rgba(6, 214, 160, 0.1);
        }

        /* Tooltip Styles */
        .tooltip {
            position: relative;
            cursor: help;
        }

        .tooltip::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--dark-bg);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
        }

        /* Loading States */
        .loading-skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Success/Error States */
        .success-border {
            border-left: 4px solid var(--accent-color) !important;
        }

        .error-border {
            border-left: 4px solid #ef4444 !important;
        }

        .warning-border {
            border-left: 4px solid #f59e0b !important;
        }

        /* Advanced Grid Layouts */
        .auto-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .compact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        /* Print Styles */
        @media print {
            .dashboard-tabs,
            .chat-widget,
            .data-feed-panel,
            .btn {
                display: none !important;
            }
            
            .dash-card {
                break-inside: avoid;
                box-shadow: none !important;
                border: 1px solid #ccc;
            }
        }
    </style>
<!-- Trading Dashboard (Hidden Initially) -->
<div id="tradingDashboard" style="display: none;">
<!-- Dashboard Header -->
<div class="dashboard-header" style="background: var(--gradient); color: white; padding: 20px 0; position: fixed; top: 0; width: 100%; z-index: 999;">
<div class="container" style="display: flex; justify-content: space-between; align-items: center;">
<div>
<h2 id="dashboardTitle">Trading Dashboard</h2>
<p id="userGreeting">Welcome back!</p>
</div>
<div style="display: flex; gap: 15px; align-items: center;">
<span id="portfolioValue" style="font-size: 1.2rem; font-weight: bold;">‚Çπ4,52,850</span>
<button class="btn btn-secondary" onclick="logout()" style="padding: 8px 16px;">Logout</button>
</div>
</div>
</div>
<!-- Dashboard Content -->
<div class="dashboard-content" style="margin-top: 100px; padding: 40px 0;">
<div class="container">
<!-- Dashboard Tabs -->
<div class="dashboard-tabs" style="display: flex; gap: 5px; margin-bottom: 40px; background: var(--light-bg); padding: 5px; border-radius: 10px;">
<button class="tab-btn active" onclick="showDashTab('overview')">Portfolio</button>
<button class="tab-btn" onclick="showDashTab('signals')">Live Signals</button>
<button class="tab-btn" onclick="showDashTab('strategies')">Auto Trading</button>
<button class="tab-btn" onclick="showDashTab('paper-trade')">Paper Trading</button>
<button class="tab-btn" onclick="showDashTab('strategy-builder')">Strategy Builder</button>
<button class="tab-btn" onclick="showDashTab('brokers')">Brokers</button>
<button class="tab-btn" onclick="showDashTab('analytics')">Analytics</button>
<button class="tab-btn" onclick="showDashTab('settings')">Settings</button>
</div>
<!-- Overview Tab -->
<div class="dash-tab-content active" id="overviewTab">
<div class="dashboard-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-bottom: 40px;">
<div class="dash-card" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); text-align: center;">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
<h3>Portfolio Value</h3>
<span id="tradingModeIndicator" style="background: var(--accent-color); color: white; padding: 4px 8px; border-radius: 12px; font-size: 0.7rem; font-weight: bold;">LIVE</span>
</div>
<div class="balance-display" style="font-size: 2.5rem; font-weight: bold; color: var(--primary-color); margin: 15px 0;">‚Çπ4,52,850</div>
<div class="balance-change positive" style="color: var(--accent-color); font-weight: 600;">+‚Çπ21,500 (4.98%)</div>
<div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-light);">
<div>Available Cash: ‚Çπ1,25,000</div>
<div>Margin Used: 35%</div>
</div>
</div>
<div class="dash-card" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); text-align: center;">
<h3>Today's P&amp;L</h3>
<div class="stat-large" style="font-size: 2rem; font-weight: bold; color: var(--accent-color); margin: 15px 0;">+‚Çπ8,750</div>
<div class="stat-detail" style="color: var(--text-light);">12 trades executed</div>
<div style="margin-top: 15px; font-size: 0.9rem;">
<div style="color: var(--accent-color);">Realized: +‚Çπ6,200</div>
<div style="color: var(--primary-color);">Unrealized: +‚Çπ2,550</div>
</div>
</div>
<div class="dash-card" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); text-align: center;">
<h3>Active Strategies</h3>
<div class="stat-large" style="font-size: 2rem; font-weight: bold; color: var(--primary-color); margin: 15px 0;">6</div>
<div class="stat-detail" style="color: var(--text-light);">4 profitable, 2 testing</div>
<div style="margin-top: 15px; font-size: 0.9rem;">
<div style="color: var(--accent-color);">Running: 4</div>
<div style="color: #f59e0b;">Paused: 2</div>
</div>
</div>
<div class="dash-card" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); text-align: center;">
<h3>Performance Metrics</h3>
<div class="stat-large" style="font-size: 2rem; font-weight: bold; color: var(--accent-color); margin: 15px 0;">84.2%</div>
<div class="stat-detail" style="color: var(--text-light);">Win Rate</div>
<div style="margin-top: 15px; font-size: 0.9rem;">
<div>Profit Factor: 2.45</div>
<div>Max Drawdown: -8.5%</div>
</div>
</div>
</div>
<!-- Quick Actions -->
<div class="quick-actions" style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); margin-bottom: 30px;">
<h4 style="margin-bottom: 20px;">Quick Actions</h4>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
<button class="btn btn-primary" onclick="quickBuy()" style="padding: 10px;">Quick Buy</button>
<button class="btn" onclick="quickSell()" style="background: #ef4444; color: white; padding: 10px;">Quick Sell</button>
<button class="btn btn-secondary" onclick="viewPositions()" style="padding: 10px;">View Positions</button>
<button class="btn btn-secondary" onclick="marketWatch()" style="padding: 10px;">Market Watch</button>
</div>
</div>
<!-- Recent Trades -->
<div class="recent-trades" style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<h4 style="margin-bottom: 20px;">Recent Trades</h4>
<div class="trades-list">
<div class="trade-item" style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
<div>
<strong>RELIANCE</strong>
<span style="margin-left: 10px; color: var(--accent-color); font-weight: 600;">BUY</span>
<div style="font-size: 0.8rem; color: var(--text-light);">50 shares @ ‚Çπ2,485</div>
</div>
<div style="text-align: right;">
<div style="color: var(--accent-color); font-weight: 600;">+‚Çπ1,775</div>
<div style="font-size: 0.8rem; color: var(--text-light);">2 min ago</div>
</div>
</div>
<div class="trade-item" style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
<div>
<strong>TCS</strong>
<span style="margin-left: 10px; color: var(--accent-color); font-weight: 600;">BUY</span>
<div style="font-size: 0.8rem; color: var(--text-light);">25 shares @ ‚Çπ3,680</div>
</div>
<div style="text-align: right;">
<div style="color: var(--accent-color); font-weight: 600;">+‚Çπ394</div>
<div style="font-size: 0.8rem; color: var(--text-light);">15 min ago</div>
</div>
</div>
</div>
</div>
</div>
<!-- Live Signals Tab -->
<div class="dash-tab-content" id="signalsTab" style="display: none;">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
<h3>Live Trading Signals</h3>
<div style="display: flex; gap: 15px; align-items: center;">
<select style="padding: 8px 12px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
<option>All Markets</option>
<option>NSE Stocks</option>
<option>Forex</option>
<option>Crypto</option>
</select>
<button class="btn btn-secondary" onclick="refreshSignals()" style="padding: 8px 16px;">üîÑ Refresh</button>
</div>
</div>
<!-- Signal Stats -->
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
<div style="background: white; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
<div style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 8px;">Today's Signals</div>
<div style="font-size: 1.8rem; font-weight: bold; color: var(--primary-color);">47</div>
<div style="font-size: 0.8rem; color: var(--accent-color);">+8 from yesterday</div>
</div>
<div style="background: white; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
<div style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 8px;">Success Rate</div>
<div style="font-size: 1.8rem; font-weight: bold; color: var(--primary-color);">84.2%</div>
<div style="font-size: 0.8rem; color: var(--accent-color);">+2.1% this week</div>
</div>
<div style="background: white; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
<div style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 8px;">Avg Profit</div>
<div style="font-size: 1.8rem; font-weight: bold; color: var(--primary-color);">‚Çπ1,250</div>
<div style="font-size: 0.8rem; color: var(--accent-color);">+5.2% per trade</div>
</div>
</div>
<div class="signals-list" style="display: flex; flex-direction: column; gap: 20px;">
<div class="signal-item" style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); border-left: 4px solid var(--accent-color);">
<div style="display: grid; grid-template-columns: 1fr 2fr 1fr; gap: 20px; align-items: center;">
<div>
<div style="font-size: 1.2rem; font-weight: bold;">RELIANCE <span style="background: var(--primary-color); color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.7rem;">NSE</span></div>
<div style="color: var(--accent-color); font-weight: 600; text-transform: uppercase;">BUY SIGNAL</div>
<div style="font-size: 0.8rem; color: var(--text-light);">2 minutes ago</div>
<div style="font-size: 0.8rem; color: var(--accent-color); font-weight: 600;">Confidence: 92%</div>
</div>
<div>
<div style="font-weight: 600; margin-bottom: 10px;">Entry: ‚Çπ2,485.50</div>
<div style="display: flex; gap: 15px; font-size: 0.9rem; color: var(--text-light); margin-bottom: 8px;">
<span>Target 1: ‚Çπ2,520</span>
<span>Target 2: ‚Çπ2,560</span>
<span>Stop Loss: ‚Çπ2,450</span>
</div>
<div style="display: flex; gap: 15px; font-size: 0.8rem;">
<span style="background: rgba(0,0,0,0.05); padding: 4px 8px; border-radius: 4px;">RSI: 65</span>
<span style="background: rgba(0,0,0,0.05); padding: 4px 8px; border-radius: 4px;">MACD: Bullish</span>
</div>
</div>
<div style="text-align: right;">
<button class="btn btn-primary" onclick="showAdvancedOrder('RELIANCE', 'BUY', 2485.50)" style="margin-bottom: 10px; padding: 8px 16px;">Advanced Order</button>
<button class="btn btn-secondary" onclick="executeSignal('RELIANCE', 'BUY')" style="padding: 8px 16px; margin-bottom: 10px;">Quick Execute</button>
<button class="btn" onclick="skipSignal(this)" style="background: #6b7280; color: white; padding: 8px 16px;">Skip</button>
</div>
</div>
</div>
<div class="signal-item" style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); border-left: 4px solid #ef4444;">
<div style="display: grid; grid-template-columns: 1fr 2fr 1fr; gap: 20px; align-items: center;">
<div>
<div style="font-size: 1.2rem; font-weight: bold;">HDFC BANK <span style="background: var(--primary-color); color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.7rem;">NSE</span></div>
<div style="color: #ef4444; font-weight: 600; text-transform: uppercase;">SELL SIGNAL</div>
<div style="font-size: 0.8rem; color: var(--text-light);">4 minutes ago</div>
<div style="font-size: 0.8rem; color: var(--accent-color); font-weight: 600;">Confidence: 76%</div>
</div>
<div>
<div style="font-weight: 600; margin-bottom: 10px;">Entry: ‚Çπ1,680.25</div>
<div style="display: flex; gap: 15px; font-size: 0.9rem; color: var(--text-light); margin-bottom: 8px;">
<span>Target 1: ‚Çπ1,650</span>
<span>Target 2: ‚Çπ1,620</span>
<span>Stop Loss: ‚Çπ1,710</span>
</div>
<div style="display: flex; gap: 15px; font-size: 0.8rem;">
<span style="background: rgba(0,0,0,0.05); padding: 4px 8px; border-radius: 4px;">RSI: 72</span>
<span style="background: rgba(0,0,0,0.05); padding: 4px 8px; border-radius: 4px;">Support: Weak</span>
</div>
</div>
<div style="text-align: right;">
<button class="btn btn-primary" onclick="showAdvancedOrder('HDFC BANK', 'SELL', 1680.25)" style="margin-bottom: 10px; padding: 8px 16px;">Advanced Order</button>
<button class="btn btn-secondary" onclick="executeSignal('HDFC BANK', 'SELL')" style="padding: 8px 16px; margin-bottom: 10px;">Quick Execute</button>
<button class="btn" onclick="skipSignal(this)" style="background: #6b7280; color: white; padding: 8px 16px;">Skip</button>
</div>
</div>
</div>
</div>
</div>
<!-- Paper Trading Tab -->
<div class="dash-tab-content" id="paper-tradeTab" style="display: none;">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
<h3>Paper Trading Environment</h3>
<div style="display: flex; gap: 15px; align-items: center;">
<div style="background: rgba(6, 214, 160, 0.1); padding: 8px 15px; border-radius: 20px; color: var(--accent-color); font-weight: 600;">
                                üìä SIMULATION MODE
                            </div>
<button class="btn btn-primary" onclick="resetPaperAccount()">Reset Account</button>
</div>
</div>
<!-- Paper Trading Stats -->
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-bottom: 40px;">
<div style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); text-align: center;">
<h4>Virtual Portfolio</h4>
<div style="font-size: 2.5rem; font-weight: bold; color: var(--primary-color); margin: 15px 0;">‚Çπ10,00,000</div>
<div style="color: var(--accent-color); font-weight: 600;">Starting Balance</div>
<div style="margin-top: 15px; font-size: 0.9rem; color: var(--text-light);">
<div>Current Value: ‚Çπ10,45,680</div>
<div style="color: var(--accent-color);">P&amp;L: +‚Çπ45,680 (4.57%)</div>
</div>
</div>
<div style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); text-align: center;">
<h4>Paper Trades</h4>
<div style="font-size: 2rem; font-weight: bold; color: var(--primary-color); margin: 15px 0;">156</div>
<div style="color: var(--text-light);">Total Executed</div>
<div style="margin-top: 15px; font-size: 0.9rem;">
<div style="color: var(--accent-color);">Winners: 89 (57%)</div>
<div style="color: #ef4444;">Losers: 67 (43%)</div>
</div>
</div>
<div style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); text-align: center;">
<h4>Best Strategy</h4>
<div style="font-size: 1.5rem; font-weight: bold; color: var(--accent-color); margin: 15px 0;">Momentum Pro</div>
<div style="color: var(--text-light);">+18.2% Return</div>
<div style="margin-top: 15px; font-size: 0.9rem;">
<div>Win Rate: 74%</div>
<div>Avg Trade: +‚Çπ1,450</div>
</div>
</div>
<div style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); text-align: center;">
<h4>Risk Metrics</h4>
<div style="font-size: 1.8rem; font-weight: bold; color: var(--primary-color); margin: 15px 0;">2.45</div>
<div style="color: var(--text-light);">Sharpe Ratio</div>
<div style="margin-top: 15px; font-size: 0.9rem;">
<div>Max Drawdown: -12.5%</div>
<div>Volatility: 18.6%</div>
</div>
</div>
</div>
<!-- Paper Trading Controls -->
<div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); margin-bottom: 30px;">
<h4 style="margin-bottom: 20px;">Paper Trading Settings</h4>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
<div>
<label style="display: block; margin-bottom: 8px; font-weight: 500;">Simulation Speed</label>
<select style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
<option>Real-time</option>
<option>2x Speed</option>
<option>5x Speed</option>
<option>10x Speed</option>
</select>
</div>
<div>
<label style="display: block; margin-bottom: 8px; font-weight: 500;">Market Data</label>
<select style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
<option>Live Data</option>
<option>Historical - Last Week</option>
<option>Historical - Last Month</option>
<option>Custom Date Range</option>
</select>
</div>
<div>
<label style="display: block; margin-bottom: 8px; font-weight: 500;">Slippage</label>
<input placeholder="0.05%" step="0.01" style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number" value="0.05"/>
</div>
<div>
<label style="display: block; margin-bottom: 8px; font-weight: 500;">Commission</label>
<input placeholder="‚Çπ20 per trade" step="1" style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number" value="20"/>
</div>
</div>
</div>
<!-- Paper Trading Performance Chart -->
<div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<h4>Paper Trading Performance</h4>
<div style="display: flex; gap: 5px;">
<button class="chart-btn active" onclick="updatePaperChart('1D')" style="padding: 6px 12px; border: 1px solid var(--primary-color); background: var(--primary-color); color: white; border-radius: 4px; cursor: pointer;">1D</button>
<button class="chart-btn" onclick="updatePaperChart('1W')" style="padding: 6px 12px; border: 1px solid var(--primary-color); background: transparent; color: var(--primary-color); border-radius: 4px; cursor: pointer;">1W</button>
<button class="chart-btn" onclick="updatePaperChart('1M')" style="padding: 6px 12px; border: 1px solid var(--primary-color); background: transparent; color: var(--primary-color); border-radius: 4px; cursor: pointer;">1M</button>
</div>
</div>
<div style="height: 300px; background: var(--light-bg); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: var(--text-light);">
                            üìà Paper Trading Performance Chart
                            <br/><small>Real chart would be integrated here</small>
</div>
</div>
</div>
<!-- Strategy Builder Tab -->
<div class="dash-tab-content" id="strategy-builderTab" style="display: none;">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
<h3>Custom Strategy Builder</h3>
<div style="display: flex; gap: 15px;">
<button class="btn btn-secondary" onclick="loadTemplate()">Load Template</button>
<button class="btn btn-primary" onclick="saveStrategy()">Save Strategy</button>
</div>
</div>
<!-- Strategy Builder Steps -->
<div class="strategy-steps" style="display: flex; justify-content: center; margin-bottom: 40px;">
<div style="display: flex; align-items: center; gap: 20px;">
<div class="step active" style="background: var(--primary-color); color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">1</div>
<div style="width: 60px; height: 2px; background: var(--primary-color);"></div>
<div class="step" style="background: #e5e7eb; color: #6b7280; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">2</div>
<div style="width: 60px; height: 2px; background: #e5e7eb;"></div>
<div class="step" style="background: #e5e7eb; color: #6b7280; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">3</div>
<div style="width: 60px; height: 2px; background: #e5e7eb;"></div>
<div class="step" style="background: #e5e7eb; color: #6b7280; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">4</div>
</div>
</div>
<!-- Step Labels -->
<div style="display: flex; justify-content: center; margin-bottom: 40px;">
<div style="display: grid; grid-template-columns: repeat(4, 150px); gap: 20px; text-align: center; font-size: 0.9rem;">
<div style="color: var(--primary-color); font-weight: 600;">Basic Info</div>
<div style="color: #6b7280;">Entry Conditions</div>
<div style="color: #6b7280;">Exit Rules</div>
<div style="color: #6b7280;">Backtest</div>
</div>
</div>
<!-- Strategy Builder Form -->
<div style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<!-- Step 1: Basic Information -->
<div class="builder-step active" id="step1">
<h4 style="margin-bottom: 25px;">Step 1: Basic Strategy Information</h4>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
<div>
<label style="display: block; margin-bottom: 8px; font-weight: 500;">Strategy Name</label>
<input id="strategyName" placeholder="My Custom Strategy" style="width: 100%; padding: 12px; border: 1px solid rgba(0,0,0,0.2); border-radius: 8px;" type="text"/>
</div>
<div>
<label style="display: block; margin-bottom: 8px; font-weight: 500;">Market</label>
<select id="strategyMarket" style="width: 100%; padding: 12px; border: 1px solid rgba(0,0,0,0.2); border-radius: 8px;">
<option value="stocks">Indian Stocks (NSE/BSE)</option>
<option value="forex">Forex</option>
<option value="crypto">Cryptocurrency</option>
<option value="commodities">Commodities</option>
</select>
</div>
<div>
<label style="display: block; margin-bottom: 8px; font-weight: 500;">Timeframe</label>
<select id="strategyTimeframe" style="width: 100%; padding: 12px; border: 1px solid rgba(0,0,0,0.2); border-radius: 8px;">
<option value="1m">1 Minute</option>
<option value="5m">5 Minutes</option>
<option value="15m">15 Minutes</option>
<option value="1h">1 Hour</option>
<option value="4h">4 Hours</option>
<option value="1d">Daily</option>
</select>
</div>
<div>
<label style="display: block; margin-bottom: 8px; font-weight: 500;">Trading Mode</label>
<select id="tradingMode" style="width: 100%; padding: 12px; border: 1px solid rgba(0,0,0,0.2); border-radius: 8px;">
<option value="paper">Paper Trading</option>
<option value="live">Live Trading</option>
</select>
</div>
</div>
<div style="margin-top: 25px;">
<label style="display: block; margin-bottom: 8px; font-weight: 500;">Strategy Description</label>
<textarea id="strategyDescription" placeholder="Describe your trading strategy logic..." style="width: 100%; height: 100px; padding: 12px; border: 1px solid rgba(0,0,0,0.2); border-radius: 8px; resize: vertical;"></textarea>
</div>
</div>
<!-- Navigation Buttons -->
<div style="display: flex; justify-content: space-between; align-items: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(0,0,0,0.1);">
<button class="btn btn-secondary" onclick="prevStep()" style="visibility: hidden;">Previous</button>
<div style="display: flex; gap: 10px;">
<button class="btn btn-secondary" onclick="previewStrategy()">Preview</button>
<button class="btn btn-primary" onclick="nextStep()">Next Step</button>
</div>
</div>
</div>
<!-- Strategy Templates -->
<div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); margin-top: 30px;">
<h4 style="margin-bottom: 20px;">Popular Strategy Templates</h4>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
<div class="template-card" onclick="loadStrategyTemplate('momentum')" style="border: 2px solid rgba(0,0,0,0.1); padding: 20px; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
<h5 style="color: var(--primary-color); margin-bottom: 10px;">üìà Momentum Strategy</h5>
<p style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 15px;">Trend-following strategy using RSI and MACD indicators</p>
<div style="display: flex; justify-content: space-between; font-size: 0.8rem;">
<span style="color: var(--accent-color);">Win Rate: 68%</span>
<span style="color: var(--primary-color);">Avg Return: +2.4%</span>
</div>
</div>
<div class="template-card" onclick="loadStrategyTemplate('mean-reversion')" style="border: 2px solid rgba(0,0,0,0.1); padding: 20px; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
<h5 style="color: var(--primary-color); margin-bottom: 10px;">üîÑ Mean Reversion</h5>
<p style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 15px;">Counter-trend strategy using Bollinger Bands and RSI</p>
<div style="display: flex; justify-content: space-between; font-size: 0.8rem;">
<span style="color: var(--accent-color);">Win Rate: 74%</span>
<span style="color: var(--primary-color);">Avg Return: +1.8%</span>
</div>
</div>
<div class="template-card" onclick="loadStrategyTemplate('scalping')" style="border: 2px solid rgba(0,0,0,0.1); padding: 20px; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
<h5 style="color: var(--primary-color); margin-bottom: 10px;">‚ö° Scalping Strategy</h5>
<p style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 15px;">High-frequency trading for small, quick profits</p>
<div style="display: flex; justify-content: space-between; font-size: 0.8rem;">
<span style="color: var(--accent-color);">Win Rate: 62%</span>
<span style="color: var(--primary-color);">Avg Return: +0.8%</span>
</div>
</div>
</div>
</div>
</div>
<div class="dash-tab-content" id="strategiesTab" style="display: none;">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
<h3>Automated Trading Strategies</h3>
<button class="btn btn-primary" onclick="createNewStrategy()">+ Create Strategy</button>
</div>
<div class="strategies-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
<div class="strategy-card" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<h4>Momentum Scalper Pro</h4>
<span class="status-badge running" style="background: rgba(6, 214, 160, 0.2); color: var(--accent-color); padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">‚óè RUNNING</span>
</div>
<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 25px;">
<div style="text-align: center;">
<span style="display: block; font-size: 0.9rem; color: var(--text-light); margin-bottom: 5px;">Return</span>
<strong style="font-size: 1.2rem; color: var(--accent-color);">+24.8%</strong>
</div>
<div style="text-align: center;">
<span style="display: block; font-size: 0.9rem; color: var(--text-light); margin-bottom: 5px;">Win Rate</span>
<strong style="font-size: 1.2rem; color: var(--primary-color);">87.3%</strong>
</div>
<div style="text-align: center;">
<span style="display: block; font-size: 0.9rem; color: var(--text-light); margin-bottom: 5px;">Trades</span>
<strong style="font-size: 1.2rem; color: var(--primary-color);">342</strong>
</div>
</div>
<div style="display: flex; gap: 10px;">
<button class="btn btn-secondary" onclick="pauseStrategy('momentum')" style="flex: 1; padding: 8px;">Pause</button>
<button class="btn btn-primary" onclick="viewStrategy('momentum')" style="flex: 1; padding: 8px;">Details</button>
</div>
</div>
<div class="strategy-card" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<h4>Mean Reversion Master</h4>
<span class="status-badge paused" style="background: rgba(239, 68, 68, 0.2); color: #ef4444; padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">‚óè PAUSED</span>
</div>
<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 25px;">
<div style="text-align: center;">
<span style="display: block; font-size: 0.9rem; color: var(--text-light); margin-bottom: 5px;">Return</span>
<strong style="font-size: 1.2rem; color: var(--accent-color);">+18.6%</strong>
</div>
<div style="text-align: center;">
<span style="display: block; font-size: 0.9rem; color: var(--text-light); margin-bottom: 5px;">Win Rate</span>
<strong style="font-size: 1.2rem; color: var(--primary-color);">75.4%</strong>
</div>
<div style="text-align: center;">
<span style="display: block; font-size: 0.9rem; color: var(--text-light); margin-bottom: 5px;">Trades</span>
<strong style="font-size: 1.2rem; color: var(--primary-color);">189</strong>
</div>
</div>
<div style="display: flex; gap: 10px;">
<button class="btn btn-primary" onclick="resumeStrategy('mean-reversion')" style="flex: 1; padding: 8px;">Resume</button>
<button class="btn btn-secondary" onclick="viewStrategy('mean-reversion')" style="flex: 1; padding: 8px;">Details</button>
</div>
</div>
</div>
</div>
<!-- Analytics Tab -->
<div class="dash-tab-content" id="analyticsTab" style="display: none;">
<h3 style="margin-bottom: 30px;">Advanced Analytics &amp; Performance</h3>
<!-- Performance Overview -->
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
<div style="background: white; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
<div style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 8px;">Total Return</div>
<div style="font-size: 1.8rem; font-weight: bold; color: var(--accent-color);">+24.8%</div>
<div style="font-size: 0.8rem; color: var(--text-light);">Last 30 days</div>
</div>
<div style="background: white; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
<div style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 8px;">Sharpe Ratio</div>
<div style="font-size: 1.8rem; font-weight: bold; color: var(--primary-color);">2.45</div>
<div style="font-size: 0.8rem; color: var(--accent-color);">Excellent</div>
</div>
<div style="background: white; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
<div style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 8px;">Max Drawdown</div>
<div style="font-size: 1.8rem; font-weight: bold; color: #ef4444;">-8.5%</div>
<div style="font-size: 0.8rem; color: var(--text-light);">Within limits</div>
</div>
<div style="background: white; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
<div style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 8px;">Profit Factor</div>
<div style="font-size: 1.8rem; font-weight: bold; color: var(--accent-color);">2.78</div>
<div style="font-size: 0.8rem; color: var(--accent-color);">Very Good</div>
</div>
<div style="background: white; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
<div style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 8px;">Win Rate</div>
<div style="font-size: 1.8rem; font-weight: bold; color: var(--primary-color);">68.4%</div>
<div style="font-size: 0.8rem; color: var(--text-light);">456 trades</div>
</div>
</div>
<!-- Charts Section -->
<div style="display: grid; grid-template-columns: 2fr 1fr; gap: 30px; margin-bottom: 30px;">
<!-- Equity Curve -->
<div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<h4>Portfolio Equity Curve</h4>
<div style="display: flex; gap: 5px;">
<button class="chart-btn active" style="padding: 6px 12px; border: 1px solid var(--primary-color); background: var(--primary-color); color: white; border-radius: 4px;">1M</button>
<button class="chart-btn" style="padding: 6px 12px; border: 1px solid var(--primary-color); background: transparent; color: var(--primary-color); border-radius: 4px;">3M</button>
<button class="chart-btn" style="padding: 6px 12px; border: 1px solid var(--primary-color); background: transparent; color: var(--primary-color); border-radius: 4px;">1Y</button>
</div>
</div>
<div style="height: 300px; background: var(--light-bg); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: var(--text-light);">
                                üìà Interactive Equity Curve Chart
                            </div>
</div>
<!-- Risk Breakdown -->
<div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<h4 style="margin-bottom: 20px;">Risk Breakdown</h4>
<div style="height: 200px; background: var(--light-bg); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: var(--text-light); margin-bottom: 20px;">
                                ü•ß Risk Pie Chart
                            </div>
<div style="font-size: 0.9rem;">
<div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
<span>Stocks:</span><strong>65%</strong>
</div>
<div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
<span>Forex:</span><strong>25%</strong>
</div>
<div style="display: flex; justify-content: space-between;">
<span>Cash:</span><strong>10%</strong>
</div>
</div>
</div>
</div>
<!-- Performance Tables -->
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
<!-- Top Performers -->
<div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<h4 style="margin-bottom: 20px;">Top Performers This Month</h4>
<div class="performers-list">
<div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
<div>
<strong>RELIANCE</strong>
<div style="font-size: 0.8rem; color: var(--text-light);">50 shares</div>
</div>
<div style="text-align: right;">
<div style="color: var(--accent-color); font-weight: 600;">+‚Çπ8,450</div>
<div style="font-size: 0.8rem; color: var(--accent-color);">+18.2%</div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
<div>
<strong>TCS</strong>
<div style="font-size: 0.8rem; color: var(--text-light);">25 shares</div>
</div>
<div style="text-align: right;">
<div style="color: var(--accent-color); font-weight: 600;">+‚Çπ4,280</div>
<div style="font-size: 0.8rem; color: var(--accent-color);">+12.8%</div>
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0;">
<div>
<strong>INFY</strong>
<div style="font-size: 0.8rem; color: var(--text-light);">40 shares</div>
</div>
<div style="text-align: right;">
<div style="color: var(--accent-color); font-weight: 600;">+‚Çπ2,850</div>
<div style="font-size: 0.8rem; color: var(--accent-color);">+9.4%</div>
</div>
</div>
</div>
</div>
<!-- Recent Alerts -->
<div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<h4 style="margin-bottom: 20px;">Recent System Alerts</h4>
<div class="alerts-list">
<div style="display: flex; align-items: center; gap: 12px; padding: 12px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
<div style="width: 24px; height: 24px; border-radius: 50%; background: rgba(6, 214, 160, 0.2); color: var(--accent-color); display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold;">‚úì</div>
<div style="flex: 1;">
<div style="font-weight: 500; margin-bottom: 4px;">Target reached for NIFTY</div>
<div style="font-size: 0.8rem; color: var(--text-light);">5 min ago</div>
</div>
</div>
<div style="display: flex; align-items: center; gap: 12px; padding: 12px 0; border-bottom: 1px solid rgba(0,0,0,0.1);">
<div style="width: 24px; height: 24px; border-radius: 50%; background: rgba(245, 158, 11, 0.2); color: #f59e0b; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold;">‚ö†</div>
<div style="flex: 1;">
<div style="font-weight: 500; margin-bottom: 4px;">High volatility detected</div>
<div style="font-size: 0.8rem; color: var(--text-light);">12 min ago</div>
</div>
</div>
<div style="display: flex; align-items: center; gap: 12px; padding: 12px 0;">
<div style="width: 24px; height: 24px; border-radius: 50%; background: rgba(59, 130, 246, 0.2); color: #3b82f6; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold;">‚Ñπ</div>
<div style="flex: 1;">
<div style="font-weight: 500; margin-bottom: 4px;">New signal generated</div>
<div style="font-size: 0.8rem; color: var(--text-light);">18 min ago</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="dash-tab-content" id="brokersTab" style="display: none;">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
<h3>Connected Broker Accounts</h3>
<button class="btn btn-primary" onclick="addBroker()">+ Add Broker</button>
</div>
<div class="brokers-grid" style="display: grid; gap: 20px;">
<div class="broker-card connected" style="background: white; padding: 25px; border-radius: 15px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 5px 20px rgba(0,0,0,0.1); border-left: 4px solid var(--accent-color);">
<div style="display: flex; align-items: center; gap: 15px;">
<div style="width: 40px; height: 40px; background: #387ED1; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">ZE</div>
<div>
<h4>Zerodha Kite</h4>
<p style="margin: 5px 0; color: var(--text-light);">Client ID: ZE****567</p>
<span style="color: var(--accent-color); font-weight: 600;">‚óè Connected</span>
<div style="color: var(--accent-color); font-weight: 600; margin-top: 5px;">Balance: ‚Çπ2,45,680</div>
</div>
</div>
<div style="display: flex; gap: 10px;">
<button class="btn btn-secondary" onclick="syncBroker('zerodha')" style="padding: 8px 16px;">Sync</button>
<button class="btn" onclick="disconnectBroker('zerodha')" style="padding: 8px 16px; background: #ef4444; color: white;">Disconnect</button>
</div>
</div>
</div>
</div>
<!-- Settings Tab -->
<div class="dash-tab-content" id="settingsTab" style="display: none;">
<h3 style="margin-bottom: 30px;">Advanced Trading Settings</h3>
<!-- Trading Mode Toggle -->
<div style="background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); margin-bottom: 30px;">
<div style="display: flex; justify-content: space-between; align-items: center;">
<div>
<h4 style="margin-bottom: 8px;">Trading Mode</h4>
<p style="margin: 0; color: var(--text-light); font-size: 0.9rem;">Switch between paper trading (simulation) and live trading</p>
</div>
<div style="display: flex; gap: 10px;">
<button class="btn btn-primary" id="paperModeBtn" onclick="setTradingMode('paper')" style="padding: 10px 20px;">üìä Paper Trading</button>
<button class="btn btn-secondary" id="liveModeBtn" onclick="setTradingMode('live')" style="padding: 10px 20px;">üî¥ Live Trading</button>
</div>
</div>
</div>
<div class="settings-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 30px;">
<!-- Risk Management -->
<div class="settings-section" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<h4 style="margin-bottom: 20px; color: var(--primary-color);">üìä Risk Management</h4>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Max Risk per Trade (%)</span>
<input max="10" min="0.5" step="0.5" style="width: 80px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number" value="2"/>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Daily Loss Limit (‚Çπ)</span>
<input max="50000" min="1000" step="1000" style="width: 100px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number" value="5000"/>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Maximum Open Positions</span>
<input max="20" min="1" step="1" style="width: 80px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number" value="5"/>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Portfolio Heat (%)</span>
<input max="50" min="5" step="5" style="width: 80px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number" value="15"/>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center;">
<span>Emergency Stop Loss</span>
<label class="switch">
<input checked="" type="checkbox"/>
<span class="slider"></span>
</label>
</div>
</div>
<!-- Order Management -->
<div class="settings-section" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<h4 style="margin-bottom: 20px; color: var(--primary-color);">üìã Order Management</h4>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Default Order Type</span>
<select style="width: 120px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
<option>Market</option>
<option>Limit</option>
<option>Stop Loss</option>
<option>Stop Limit</option>
</select>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Order Timeout (seconds)</span>
<input max="300" min="5" step="5" style="width: 80px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number" value="30"/>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Enable Trailing Stop Loss</span>
<label class="switch">
<input id="trailingStopToggle" onchange="toggleTrailingStop()" type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div id="trailingStopSettings" style="display: none; margin-left: 20px; padding: 15px; border-left: 3px solid var(--accent-color); background: rgba(6, 214, 160, 0.05);">
<div style="margin-bottom: 15px;">
<label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Trail Distance (%)</label>
<input max="10" min="0.5" step="0.5" style="width: 80px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;" type="number" value="3"/>
</div>
<div style="margin-bottom: 15px;">
<label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Trigger Method</label>
<select style="width: 150px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
<option>Percentage</option>
<option>Fixed Points</option>
<option>ATR Multiple</option>
</select>
</div>
<div>
<label style="display: block; margin-bottom: 5px; font-size: 0.9rem;">Update Frequency</label>
<select style="width: 120px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
<option>Real-time</option>
<option>Every 5s</option>
<option>Every 30s</option>
</select>
</div>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center;">
<span>Partial Fill Handling</span>
<select style="width: 120px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
<option>Accept All</option>
<option>Cancel Rest</option>
<option>Fill or Kill</option>
</select>
</div>
</div>
<!-- Automation Settings -->
<div class="settings-section" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<h4 style="margin-bottom: 20px; color: var(--primary-color);">ü§ñ Automation</h4>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Auto-Execute Signals</span>
<label class="switch">
<input checked="" type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Smart Position Sizing</span>
<label class="switch">
<input type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Weekend Trading (Crypto)</span>
<label class="switch">
<input type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Auto Portfolio Rebalancing</span>
<label class="switch">
<input type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center;">
<span>Strategy Auto-Pause on Loss</span>
<label class="switch">
<input checked="" type="checkbox"/>
<span class="slider"></span>
</label>
</div>
</div>
<!-- Notification Settings -->
<div class="settings-section" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<h4 style="margin-bottom: 20px; color: var(--primary-color);">üîî Notifications</h4>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Email Alerts</span>
<label class="switch">
<input checked="" type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>SMS Notifications</span>
<label class="switch">
<input type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Push Notifications</span>
<label class="switch">
<input checked="" type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Webhook Alerts</span>
<label class="switch">
<input type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center;">
<span>Alert Sound</span>
<label class="switch">
<input checked="" type="checkbox"/>
<span class="slider"></span>
</label>
</div>
</div>
<!-- Advanced Features -->
<div class="settings-section" style="background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
<h4 style="margin-bottom: 20px; color: var(--primary-color);">‚ö° Advanced Features</h4>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Dark Pool Trading</span>
<label class="switch">
<input type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Iceberg Orders</span>
<label class="switch">
<input type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>Latency Optimization</span>
<label class="switch">
<input checked="" type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<span>AI Risk Assessment</span>
<label class="switch">
<input checked="" type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item" style="display: flex; justify-content: space-between; align-items: center;">
<span>Market Making Mode</span>
<label class="switch">
<input type="checkbox"/>
<span class="slider"></span>
</label>
</div>
</div>
</div>
<!-- Save Settings Button -->
<div style="text-align: center; margin-top: 30px;">
<button class="btn btn-primary" onclick="saveAllSettings()" style="padding: 15px 40px; font-size: 1.1rem;">üíæ Save All Settings</button>
</div>
</div>
</div>
</div>
</div>
<script>
        // Theme Toggle Function
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const themeIcon = document.querySelector('.theme-toggle i');
            if (document.body.classList.contains('dark-mode')) {
                themeIcon.className = 'fas fa-sun';
                localStorage.setItem('theme', 'dark');
            } else {
                themeIcon.className = 'fas fa-moon';
                localStorage.setItem('theme', 'light');
            }
        }

        // Modal Functions
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'block';
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // Fill demo credentials function
        function fillDemoCredentials() {
            document.getElementById('loginEmail').value = 'demo@trading.com';
            document.getElementById('loginPassword').value = 'demo123';
            
            // Add visual feedback
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '‚úÖ Filled!';
            button.style.background = 'rgba(6, 214, 160, 0.2)';
            button.style.color = '#06d6a0';
            button.style.borderColor = '#06d6a0';
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.background = 'rgba(99, 102, 241, 0.1)';
                button.style.color = '#6366f1';
                button.style.borderColor = '#6366f1';
            }, 1500);
        }

        // Login Handler
        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Demo credentials for testing
            const validCredentials = [
                { email: 'demo@trading.com', password: 'demo123', name: 'Demo Trader' },
                { email: 'trader@example.com', password: 'trader123', name: 'Professional Trader' },
                { email: 'admin@tradingpro.com', password: 'admin123', name: 'Admin User' }
            ];
            
            // Check if credentials match
            const user = validCredentials.find(cred => 
                cred.email === email && cred.password === password
            );
            
            if (user) {
                console.log('‚úÖ Login successful for:', email);
                closeModal('loginModal');
                
                // Store user info
                sessionStorage.setItem('currentUser', JSON.stringify(user));
                
                // Show dashboard
                showTradingDashboard(user);
                showSuccessMessage('‚úÖ Welcome to your Trading Dashboard!');
            } else {
                alert('‚ùå Invalid credentials! Try:\nEmail: demo@trading.com\nPassword: demo123');
                console.log('‚ùå Login failed for:', email);
            }
        }
        
        // Global trading state
        let currentTradingMode = 'paper'; // 'paper' or 'live'
        let trailingStopEnabled = false;

        // Show Trading Dashboard
        function showTradingDashboard(user) {
            // Hide main website content
            document.getElementById('home').style.display = 'none';
            document.getElementById('services').style.display = 'none';
            document.querySelector('.header').style.display = 'none';
            
            // Show dashboard
            document.getElementById('tradingDashboard').style.display = 'block';
            
            // Update user info
            document.getElementById('userGreeting').textContent = `Welcome back, ${user.name}!`;
            document.getElementById('dashboardTitle').textContent = `${user.name}'s Dashboard`;
            
            // Initialize trading mode
            updateTradingModeDisplay();
            
            // Start real-time updates
            startDashboardUpdates();
        }

        // Trading Mode Management
        function setTradingMode(mode) {
            currentTradingMode = mode;
            updateTradingModeDisplay();
            
            const paperBtn = document.getElementById('paperModeBtn');
            const liveBtn = document.getElementById('liveModeBtn');
            
            if (mode === 'paper') {
                paperBtn.className = 'btn btn-primary';
                liveBtn.className = 'btn btn-secondary';
                showSuccessMessage('üìä Switched to Paper Trading Mode - All trades are simulated');
            } else {
                paperBtn.className = 'btn btn-secondary';
                liveBtn.className = 'btn btn-primary';
                showSuccessMessage('üî¥ Switched to Live Trading Mode - Real money trades');
            }
            
            // Store in session
            sessionStorage.setItem('tradingMode', mode);
        }

        function updateTradingModeDisplay() {
            const indicator = document.getElementById('tradingModeIndicator');
            if (indicator) {
                if (currentTradingMode === 'paper') {
                    indicator.textContent = 'PAPER';
                    indicator.style.background = '#3b82f6';
                } else {
                    indicator.textContent = 'LIVE';
                    indicator.style.background = 'var(--accent-color)';
                }
            }
        }

        // Advanced Order Management
        function showAdvancedOrder(symbol, action, price) {
            const orderModal = document.createElement('div');
            orderModal.className = 'modal';
            orderModal.style.display = 'block';
            orderModal.innerHTML = `
                <div class="modal-content" style="max-width: 600px;">
                    <span class="close" onclick="this.parentElement.parentElement.remove()">&times;</span>
                    <h3>Advanced Order - ${symbol}</h3>
                    <div style="background: rgba(0,0,0,0.05); padding: 15px; border-radius: 8px; margin: 20px 0;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                            <div>
                                <label style="display: block; margin-bottom: 5px; font-weight: 500;">Symbol</label>
                                <input type="text" value="${symbol}" readonly style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px; background: #f5f5f5;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 5px; font-weight: 500;">Action</label>
                                <select style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
                                    <option ${action === 'BUY' ? 'selected' : ''}>${action}</option>
                                </select>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 5px; font-weight: 500;">Quantity</label>
                                <input type="number" value="1" min="1" style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0;">
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 500;">Order Type</label>
                            <select id="orderType" onchange="toggleOrderFields()" style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
                                <option value="market">Market Order</option>
                                <option value="limit">Limit Order</option>
                                <option value="stop">Stop Loss Order</option>
                                <option value="stop-limit">Stop Limit Order</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 5px; font-weight: 500;">Price</label>
                            <input type="number" value="${price}" step="0.01" style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
                        </div>
                    </div>
                    
                    <div style="background: rgba(6, 214, 160, 0.1); padding: 15px; border-radius: 8px; margin: 20px 0;">
                        <h4 style="margin-bottom: 15px; color: var(--accent-color);">üìä Advanced Options</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                            <div>
                                <label style="display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" id="enableTrailingStop">
                                    <span>Enable Trailing Stop Loss</span>
                                </label>
                                <div id="trailingStopOptions" style="margin-top: 10px; display: none;">
                                    <input type="number" placeholder="Trail %" value="3" step="0.5" style="width: 80px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
                                </div>
                            </div>
                            <div>
                                <label style="display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox">
                                    <span>Iceberg Order</span>
                                </label>
                                <input type="number" placeholder="Visible Qty" style="width: 100px; padding: 8px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px; margin-top: 5px;">
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px;">
                        <button class="btn btn-primary" onclick="executeAdvancedOrder('${symbol}', '${action}', ${price}); this.parentElement.parentElement.parentElement.remove();">Execute Order</button>
                        <button class="btn btn-secondary" onclick="this.parentElement.parentElement.parentElement.remove();">Cancel</button>
                    </div>
                </div>
            `;
            document.body.appendChild(orderModal);
        }

        function executeAdvancedOrder(symbol, action, price) {
            const mode = currentTradingMode === 'paper' ? 'Paper' : 'Live';
            showSuccessMessage(`üöÄ ${mode} ${action} order for ${symbol} placed successfully!`);
            
            // Simulate order execution
            setTimeout(() => {
                showSuccessMessage(`‚úÖ ${action} order for ${symbol} executed at ‚Çπ${price}`);
                updatePortfolioValue();
            }, 2000);
        }

        // Trailing Stop Loss Management
        function toggleTrailingStop() {
            const toggle = document.getElementById('trailingStopToggle');
            const settings = document.getElementById('trailingStopSettings');
            
            if (toggle.checked) {
                settings.style.display = 'block';
                trailingStopEnabled = true;
                showSuccessMessage('üìà Trailing Stop Loss enabled');
            } else {
                settings.style.display = 'none';
                trailingStopEnabled = false;
                showSuccessMessage('üìâ Trailing Stop Loss disabled');
            }
        }

        // Quick Trading Functions
        function quickBuy() {
            showQuickTradeModal('BUY');
        }

        function quickSell() {
            showQuickTradeModal('SELL');
        }

        function showQuickTradeModal(action) {
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.style.display = 'block';
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 400px;">
                    <span class="close" onclick="this.parentElement.parentElement.remove()">&times;</span>
                    <h3>Quick ${action}</h3>
                    <div style="margin: 20px 0;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 500;">Symbol</label>
                        <input type="text" id="quickSymbol" placeholder="e.g. RELIANCE" style="width: 100%; padding: 12px; border: 1px solid rgba(0,0,0,0.2); border-radius: 8px;">
                    </div>
                    <div style="margin: 20px 0;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 500;">Quantity</label>
                        <input type="number" id="quickQuantity" value="1" min="1" style="width: 100%; padding: 12px; border: 1px solid rgba(0,0,0,0.2); border-radius: 8px;">
                    </div>
                    <div style="background: rgba(0,0,0,0.05); padding: 15px; border-radius: 8px; margin: 20px 0; text-align: center;">
                        <div style="font-size: 0.9rem; color: var(--text-light);">Trading Mode</div>
                        <div style="font-weight: bold; color: ${currentTradingMode === 'paper' ? '#3b82f6' : 'var(--accent-color)'};">${currentTradingMode === 'paper' ? 'üìä PAPER TRADING' : 'üî¥ LIVE TRADING'}</div>
                    </div>
                    <button class="btn btn-primary" onclick="executeQuickTrade('${action}'); this.parentElement.parentElement.remove();" style="width: 100%;">Execute ${action}</button>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function executeQuickTrade(action) {
            const symbol = document.getElementById('quickSymbol').value;
            const quantity = document.getElementById('quickQuantity').value;
            
            if (!symbol) {
                showSuccessMessage('‚ùå Please enter a symbol');
                return;
            }
            
            const mode = currentTradingMode === 'paper' ? 'Paper' : 'Live';
            showSuccessMessage(`üöÄ ${mode} ${action} order for ${quantity} shares of ${symbol} submitted!`);
            
            setTimeout(() => {
                const randomPrice = (Math.random() * 1000 + 1000).toFixed(2);
                showSuccessMessage(`‚úÖ ${action} order executed at ‚Çπ${randomPrice}`);
                updatePortfolioValue();
            }, 1500);
        }

        // Paper Trading Functions
        function resetPaperAccount() {
            if (confirm('Are you sure you want to reset your paper trading account? This will clear all positions and reset to ‚Çπ10,00,000.')) {
                showSuccessMessage('üìä Paper trading account reset successfully!');
                // Reset values in UI
                setTimeout(() => {
                    showSuccessMessage('üí∞ Virtual portfolio reset to ‚Çπ10,00,000');
                }, 1000);
            }
        }

        function updatePaperChart(period) {
            // Update chart period buttons
            document.querySelectorAll('.chart-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = 'transparent';
                btn.style.color = 'var(--primary-color)';
            });
            
            event.target.classList.add('active');
            event.target.style.background = 'var(--primary-color)';
            event.target.style.color = 'white';
            
            showSuccessMessage(`üìà Chart updated to ${period} view`);
        }

        // Strategy Builder Functions
        let currentBuilderStep = 1;

        function nextStep() {
            if (currentBuilderStep < 4) {
                currentBuilderStep++;
                updateBuilderStep();
            }
        }

        function prevStep() {
            if (currentBuilderStep > 1) {
                currentBuilderStep--;
                updateBuilderStep();
            }
        }

        function updateBuilderStep() {
            // Update step indicators
            document.querySelectorAll('.step').forEach((step, index) => {
                if (index + 1 <= currentBuilderStep) {
                    step.style.background = 'var(--primary-color)';
                    step.style.color = 'white';
                } else {
                    step.style.background = '#e5e7eb';
                    step.style.color = '#6b7280';
                }
            });
            
            // Show/hide navigation buttons
            const prevBtn = document.querySelector('.btn-secondary');
            if (currentBuilderStep === 1) {
                prevBtn.style.visibility = 'hidden';
            } else {
                prevBtn.style.visibility = 'visible';
            }
            
            showSuccessMessage(`üìù Step ${currentBuilderStep} of 4`);
        }

        function loadStrategyTemplate(templateType) {
            let templateName, description;
            
            switch(templateType) {
                case 'momentum':
                    templateName = 'Momentum Trading Strategy';
                    description = 'Trend-following strategy using RSI > 70 for buy signals and RSI < 30 for sell signals, combined with MACD bullish/bearish crossovers';
                    break;
                case 'mean-reversion':
                    templateName = 'Mean Reversion Strategy';
                    description = 'Counter-trend strategy using Bollinger Bands. Buy when price touches lower band, sell when price touches upper band';
                    break;
                case 'scalping':
                    templateName = 'Scalping Strategy';
                    description = 'High-frequency trading strategy for quick profits using 1-minute charts and tight stop losses';
                    break;
            }
            
            // Populate form
            document.getElementById('strategyName').value = templateName;
            document.getElementById('strategyDescription').value = description;
            
            showSuccessMessage(`üìã ${templateName} template loaded successfully!`);
        }

        function previewStrategy() {
            const name = document.getElementById('strategyName').value;
            const market = document.getElementById('strategyMarket').value;
            const timeframe = document.getElementById('strategyTimeframe').value;
            
            if (!name) {
                showSuccessMessage('‚ùå Please enter a strategy name');
                return;
            }
            
            showSuccessMessage(`üëÄ Previewing: ${name} (${market} - ${timeframe})`);
        }

        function saveStrategy() {
            const name = document.getElementById('strategyName').value;
            if (!name) {
                showSuccessMessage('‚ùå Please enter a strategy name');
                return;
            }
            
            showSuccessMessage(`üíæ Strategy "${name}" saved successfully!`);
        }

        function loadTemplate() {
            showSuccessMessage('üìÑ Strategy template selector opened');
        }

        // Portfolio Functions
        function viewPositions() {
            showSuccessMessage('üìä Opening positions overview...');
        }

        function marketWatch() {
            showSuccessMessage('üëÄ Opening market watchlist...');
        }

        // Settings Functions
        function saveAllSettings() {
            showSuccessMessage('üíæ All settings saved successfully!');
            
            // Save to session storage
            const settings = {
                tradingMode: currentTradingMode,
                trailingStopEnabled: trailingStopEnabled,
                timestamp: new Date().toISOString()
            };
            
            sessionStorage.setItem('tradingSettings', JSON.stringify(settings));
        }

        // Enhanced signal refresh
        function refreshSignals() {
            showSuccessMessage('üîÑ Refreshing live signals...');
            
            setTimeout(() => {
                generateNewSignal();
                showSuccessMessage('‚úÖ Signals updated with latest market data');
            }, 1500);
        }

        // Advanced Order Management Functions
        function handleOrderTypeChange() {
            const orderType = document.getElementById('orderTypeSelect').value;
            const trailingSection = document.getElementById('trailingStopSection');
            
            if (orderType === 'trailing-stop') {
                trailingSection.style.display = 'block';
            } else {
                trailingSection.style.display = 'none';
            }
            
            updateOrderEstimate();
        }

        function updateOrderEstimate() {
            const quantity = document.getElementById('orderQuantity')?.value || 1;
            const price = document.getElementById('orderPrice')?.value || 1000;
            
            const estimatedCost = quantity * price;
            const brokerageFee = 20; // Fixed for demo
            const totalAmount = estimatedCost + brokerageFee;
            
            const costElement = document.getElementById('estimatedCost');
            const totalElement = document.getElementById('totalAmount');
            
            if (costElement) costElement.textContent = `‚Çπ${estimatedCost.toLocaleString()}`;
            if (totalElement) totalElement.textContent = `‚Çπ${totalAmount.toLocaleString()}`;
        }

        function submitAdvancedOrder() {
            const symbol = document.getElementById('orderSymbol').value;
            const orderType = document.getElementById('orderTypeSelect').value;
            const quantity = document.getElementById('orderQuantity').value;
            const price = document.getElementById('orderPrice').value;
            
            if (!symbol || !quantity || !price) {
                showSuccessMessage('‚ùå Please fill all required fields');
                return;
            }
            
            const mode = currentTradingMode === 'paper' ? 'Paper' : 'Live';
            showSuccessMessage(`üöÄ ${mode} ${orderType} order for ${quantity} ${symbol} submitted!`);
            
            setTimeout(() => {
                showSuccessMessage(`‚úÖ Order executed successfully at ‚Çπ${price}`);
                updatePortfolioValue();
                closeModal('advancedOrderModal');
            }, 2000);
        }

        // Portfolio Management Functions
        function viewPositions() {
            showModal('portfolioModal');
        }

        function showPositionType(type) {
            // Update button states
            document.querySelectorAll('#portfolioModal .btn-sm').forEach(btn => {
                btn.className = 'btn btn-secondary btn-sm';
            });
            event.target.className = 'btn btn-primary btn-sm';
            
            showSuccessMessage(`üìä Showing ${type} positions`);
        }

        function closePosition(symbol, quantity) {
            if (confirm(`Are you sure you want to close ${quantity} shares of ${symbol}?`)) {
                const mode = currentTradingMode === 'paper' ? 'Paper' : 'Live';
                showSuccessMessage(`üîÑ ${mode} closing position for ${symbol}...`);
                
                setTimeout(() => {
                    showSuccessMessage(`‚úÖ Position closed successfully`);
                    updatePortfolioValue();
                }, 1500);
            }
        }

        // Market Watch Functions
        function marketWatch() {
            showModal('marketWatchModal');
        }

        function addToWatchlist() {
            const symbol = document.getElementById('watchlistInput').value.toUpperCase();
            if (!symbol) return;
            
            // Simulate adding to watchlist
            const tableBody = document.getElementById('watchlistTableBody');
            const randomPrice = (Math.random() * 1000 + 1000).toFixed(2);
            const randomChange = (Math.random() * 50 - 25).toFixed(2);
            const randomPercent = ((randomChange / randomPrice) * 100).toFixed(2);
            const changeColor = randomChange >= 0 ? 'var(--accent-color)' : '#ef4444';
            
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td style="padding: 12px; border-bottom: 1px solid rgba(0,0,0,0.1);"><strong>${symbol}</strong></td>
                <td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1);">‚Çπ${randomPrice}</td>
                <td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1); color: ${changeColor};">${randomChange >= 0 ? '+' : ''}‚Çπ${randomChange}</td>
                <td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1); color: ${changeColor};">${randomChange >= 0 ? '+' : ''}${randomPercent}%</td>
                <td style="padding: 12px; text-align: right; border-bottom: 1px solid rgba(0,0,0,0.1);">${Math.floor(Math.random() * 100000)}</td>
                <td style="padding: 12px; text-align: center; border-bottom: 1px solid rgba(0,0,0,0.1);">
                    <button class="btn btn-primary btn-sm" onclick="quickTradeFromWatch('${symbol}', ${randomPrice})">Trade</button>
                </td>
            `;
            
            tableBody.appendChild(newRow);
            document.getElementById('watchlistInput').value = '';
            showSuccessMessage(`üìà ${symbol} added to watchlist`);
        }

        function quickTradeFromWatch(symbol, price) {
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.style.display = 'block';
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 500px;">
                    <span class="close" onclick="this.parentElement.parentElement.remove()">&times;</span>
                    <h3>Quick Trade - ${symbol}</h3>
                    <div style="background: var(--light-bg); padding: 15px; border-radius: 8px; margin: 20px 0; text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: var(--primary-color);">‚Çπ${price}</div>
                        <div style="font-size: 0.9rem; color: var(--text-light);">Current Price</div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                        <div>
                            <label style="display: block; margin-bottom: 8px; font-weight: 500;">Quantity</label>
                            <input type="number" id="quickTradeQty" value="1" min="1" style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 8px; font-weight: 500;">Order Type</label>
                            <select id="quickOrderType" style="width: 100%; padding: 10px; border: 1px solid rgba(0,0,0,0.2); border-radius: 5px;">
                                <option>Market</option>
                                <option>Limit</option>
                            </select>
                        </div>
                    </div>
                    <div style="background: rgba(0,0,0,0.05); padding: 15px; border-radius: 8px; margin: 20px 0; text-align: center;">
                        <div style="font-size: 0.9rem; color: var(--text-light);">Trading Mode</div>
                        <div style="font-weight: bold; color: ${currentTradingMode === 'paper' ? '#3b82f6' : 'var(--accent-color)'};">${currentTradingMode === 'paper' ? 'üìä PAPER TRADING' : 'üî¥ LIVE TRADING'}</div>
                    </div>
                    <div style="display: flex; gap: 15px;">
                        <button class="btn btn-primary" onclick="executeQuickTradeFromWatch('${symbol}', 'BUY', ${price}); this.parentElement.parentElement.parentElement.remove();" style="flex: 1;">BUY</button>
                        <button class="btn" onclick="executeQuickTradeFromWatch('${symbol}', 'SELL', ${price}); this.parentElement.parentElement.parentElement.remove();" style="flex: 1; background: #ef4444; color: white;">SELL</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function executeQuickTradeFromWatch(symbol, action, price) {
            const quantity = document.getElementById('quickTradeQty')?.value || 1;
            const orderType = document.getElementById('quickOrderType')?.value || 'Market';
            
            const mode = currentTradingMode === 'paper' ? 'Paper' : 'Live';
            showSuccessMessage(`üöÄ ${mode} ${action} order for ${quantity} ${symbol} at ‚Çπ${price}!`);
            
            setTimeout(() => {
                showSuccessMessage(`‚úÖ ${action} order executed successfully`);
                updatePortfolioValue();
            }, 1500);
        }

        // Enhanced Strategy Functions with more features
        function loadStrategyTemplate(templateType) {
            let templateData;
            
            switch(templateType) {
                case 'momentum':
                    templateData = {
                        name: 'Advanced Momentum Strategy',
                        description: 'Multi-timeframe momentum strategy using RSI(14) > 70 for buy signals, MACD bullish crossover confirmation, and volume spike detection. Includes trailing stop loss and position sizing based on ATR.',
                        market: 'stocks',
                        timeframe: '15m',
                        riskPerTrade: 2,
                        maxPositions: 3
                    };
                    break;
                case 'mean-reversion':
                    templateData = {
                        name: 'Mean Reversion Master',
                        description: 'Counter-trend strategy using Bollinger Bands (20,2) with RSI oversold/overbought conditions. Entry on band touch with RSI < 30 or > 70, exit on mean reversion to 20 SMA.',
                        market: 'forex',
                        timeframe: '1h',
                        riskPerTrade: 1.5,
                        maxPositions: 5
                    };
                    break;
                case 'scalping':
                    templateData = {
                        name: 'High-Frequency Scalping',
                        description: 'Ultra-fast scalping strategy for 1-minute charts using EMA crossovers (5,13), Stochastic oscillator, and level 2 order book analysis. Tight stop losses and quick profit targets.',
                        market: 'forex',
                        timeframe: '1m',
                        riskPerTrade: 0.5,
                        maxPositions: 10
                    };
                    break;
            }
            
            // Populate form fields
            if (templateData) {
                document.getElementById('strategyName').value = templateData.name;
                document.getElementById('strategyDescription').value = templateData.description;
                document.getElementById('strategyMarket').value = templateData.market;
                document.getElementById('strategyTimeframe').value = templateData.timeframe;
                
                showSuccessMessage(`üìã ${templateData.name} template loaded successfully!`);
                
                // Add visual feedback to template card
                event.target.style.border = '2px solid var(--accent-color)';
                event.target.style.background = 'rgba(6, 214, 160, 0.05)';
                
                setTimeout(() => {
                    event.target.style.border = '2px solid rgba(0,0,0,0.1)';
                    event.target.style.background = 'white';
                }, 2000);
            }
        }

        // Enhanced Settings Functions
        function saveAllSettings() {
            // Collect all settings
            const settings = {
                tradingMode: currentTradingMode,
                trailingStopEnabled: document.getElementById('trailingStopToggle')?.checked || false,
                riskPerTrade: document.querySelector('#settingsTab input[value="2"]')?.value || 2,
                dailyLossLimit: document.querySelector('#settingsTab input[value="5000"]')?.value || 5000,
                autoExecuteSignals: document.querySelector('#settingsTab input[type="checkbox"]:checked') !== null,
                timestamp: new Date().toISOString()
            };
            
            // Save to session storage
            sessionStorage.setItem('tradingSettings', JSON.stringify(settings));
            
            showSuccessMessage('üíæ All settings saved successfully!');
            
            // Visual feedback
            const saveBtn = event.target;
            const originalText = saveBtn.textContent;
            saveBtn.textContent = '‚úÖ Saved!';
            saveBtn.style.background = 'var(--accent-color)';
            
            setTimeout(() => {
                saveBtn.textContent = originalText;
                saveBtn.style.background = 'var(--primary-color)';
            }, 2000);
        }

        // Risk Management Functions
        function calculatePositionSize(accountBalance, riskPercent, entryPrice, stopLoss) {
            const riskAmount = accountBalance * (riskPercent / 100);
            const riskPerShare = Math.abs(entryPrice - stopLoss);
            return Math.floor(riskAmount / riskPerShare);
        }

        function validateRiskLimits(symbol, quantity, price) {
            const accountBalance = 452850; // Current portfolio value
            const maxRiskPerTrade = 2; // 2% from settings
            const positionValue = quantity * price;
            const riskPercent = (positionValue / accountBalance) * 100;
            
            if (riskPercent > maxRiskPerTrade) {
                showSuccessMessage(`‚ö†Ô∏è Risk warning: Position exceeds ${maxRiskPerTrade}% limit`);
                return false;
            }
            
            return true;
        }

        // Real-time Portfolio Updates
        function startAdvancedUpdates() {
            setInterval(() => {
                if (document.getElementById('tradingDashboard').style.display === 'block') {
                    // Update portfolio values with realistic market movements
                    updateRealTimePortfolio();
                    
                    // Update positions table if visible
                    updatePositionsDisplay();
                    
                    // Update market watch if visible
                    updateMarketWatchDisplay();
                    
                    // Generate new signals occasionally
                    if (Math.random() < 0.1) { // 10% chance every update
                        generateAdvancedSignal();
                    }
                }
            }, 5000); // Update every 5 seconds
        }

        function updateRealTimePortfolio() {
            const portfolioElement = document.querySelector('.balance-display');
            const changeElement = document.querySelector('.balance-change');
            
            if (portfolioElement && changeElement) {
                const currentValue = 452850;
                const dailyChange = (Math.random() - 0.48) * 5000; // Slight upward bias
                const newValue = currentValue + dailyChange;
                const changePercent = ((dailyChange / currentValue) * 100).toFixed(2);
                
                portfolioElement.textContent = `‚Çπ${newValue.toLocaleString()}`;
                changeElement.textContent = `${dailyChange >= 0 ? '+' : ''}‚Çπ${Math.abs(dailyChange).toFixed(0)} (${changePercent}%)`;
                changeElement.className = `balance-change ${dailyChange >= 0 ? 'positive' : 'negative'}`;
                
                // Update portfolio value in header
                const headerValue = document.getElementById('portfolioValue');
                if (headerValue) {
                    headerValue.textContent = `‚Çπ${newValue.toLocaleString()}`;
                }
            }
        }

        function generateAdvancedSignal() {
            const symbols = ['INFY', 'WIPRO', 'HCL TECH', 'LT', 'BAJAJ FINANCE', 'AXIS BANK'];
            const actions = ['BUY', 'SELL'];
            const confidenceRatings = [92, 88, 94, 76, 89, 91];
            
            const randomIndex = Math.floor(Math.random() * symbols.length);
            const symbol = symbols[randomIndex];
            const action = actions[Math.floor(Math.random() * actions.length)];
            const confidence = confidenceRatings[Math.floor(Math.random() * confidenceRatings.length)];
            
            // Only add if signals tab is active
            const signalsTab = document.getElementById('signalsTab');
            if (signalsTab && signalsTab.style.display !== 'none') {
                const signalsList = signalsTab.querySelector('.signals-list');
                if (signalsList) {
                    const newSignal = createAdvancedSignalElement(symbol, action, confidence);
                    signalsList.insertBefore(newSignal, signalsList.firstChild);
                    
                    // Limit to 5 signals
                    if (signalsList.children.length > 5) {
                        signalsList.removeChild(signalsList.lastChild);
                    }
                    
                    showSuccessMessage(`üîî New ${confidence}% confidence ${action} signal for ${symbol}!`);
                }
            }
        }

        function createAdvancedSignalElement(symbol, action, confidence) {
            const signalDiv = document.createElement('div');
            signalDiv.className = 'signal-item new';
            signalDiv.style.cssText = `
                background: white; 
                padding: 25px; 
                border-radius: 15px; 
                box-shadow: 0 5px 20px rgba(0,0,0,0.1); 
                border-left: 4px solid ${action === 'BUY' ? 'var(--accent-color)' : '#ef4444'}; 
                animation: slideIn 0.5s ease;
            `;
            
            const price = (Math.random() * 2000 + 1000).toFixed(2);
            const target1 = (parseFloat(price) * (action === 'BUY' ? 1.025 : 0.975)).toFixed(2);
            const target2 = (parseFloat(price) * (action === 'BUY' ? 1.05 : 0.95)).toFixed(2);
            const stopLoss = (parseFloat(price) * (action === 'BUY' ? 0.975 : 1.025)).toFixed(2);
            
            const indicators = ['RSI: ' + Math.floor(Math.random() * 30 + 50), 'MACD: ' + (Math.random() > 0.5 ? 'Bullish' : 'Bearish'), 'Volume: ' + (Math.random() > 0.5 ? 'High' : 'Normal')];
            
            signalDiv.innerHTML = `
                <div style="display: grid; grid-template-columns: 1fr 2fr 1fr; gap: 20px; align-items: center;">
                    <div>
                        <div style="font-size: 1.2rem; font-weight: bold;">${symbol} <span style="background: var(--primary-color); color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.7rem;">NSE</span></div>
                        <div style="color: ${action === 'BUY' ? 'var(--accent-color)' : '#ef4444'}; font-weight: 600; text-transform: uppercase;">${action} SIGNAL</div>
                        <div style="font-size: 0.8rem; color: var(--text-light);">Just now</div>
                        <div style="font-size: 0.8rem; color: var(--accent-color); font-weight: 600;">Confidence: ${confidence}%</div>
                    </div>
                    <div>
                        <div style="font-weight: 600; margin-bottom: 10px;">Entry: ‚Çπ${price}</div>
                        <div style="display: flex; gap: 15px; font-size: 0.9rem; color: var(--text-light); margin-bottom: 8px;">
                            <span>Target 1: ‚Çπ${target1}</span>
                            <span>Target 2: ‚Çπ${target2}</span>
                            <span>Stop Loss: ‚Çπ${stopLoss}</span>
                        </div>
                        <div style="display: flex; gap: 15px; font-size: 0.8rem;">
                            ${indicators.map(ind => `<span style="background: rgba(0,0,0,0.05); padding: 4px 8px; border-radius: 4px;">${ind}</span>`).join('')}
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <button class="btn btn-primary" style="margin-bottom: 10px; padding: 8px 16px;" onclick="showAdvancedOrder('${symbol}', '${action}', ${price})">Advanced Order</button>
                        <button class="btn btn-secondary" style="padding: 8px 16px; margin-bottom: 10px;" onclick="executeSignal('${symbol}', '${action}')">Quick Execute</button>
                        <button class="btn" style="background: #6b7280; color: white; padding: 8px 16px;" onclick="skipSignal(this)">Skip</button>
                    </div>
                </div>
            `;
            
            return signalDiv;
        }

        // Initialize advanced features when dashboard loads
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved settings
            const savedSettings = sessionStorage.getItem('tradingSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                currentTradingMode = settings.tradingMode || 'paper';
                trailingStopEnabled = settings.trailingStopEnabled || false;
            }
            
            // Start advanced updates
            setTimeout(() => {
                startAdvancedUpdates();
            }, 2000);
            
            // Add event listeners for order estimation
            document.addEventListener('input', function(e) {
                if (e.target.id === 'orderQuantity' || e.target.id === 'orderPrice') {
                    updateOrderEstimate();
                }
            });
            
            // Add checkbox change handlers
            document.addEventListener('change', function(e) {
                if (e.target.id === 'icebergOrder') {
                    const settings = document.getElementById('icebergSettings');
                    settings.style.display = e.target.checked ? 'block' : 'none';
                }
                
                if (e.target.id === 'timeInForce') {
                    const settings = document.getElementById('tifSettings');
                    settings.style.display = e.target.checked ? 'block' : 'none';
                }
                
                if (e.target.id === 'bracketOrder') {
                    const settings = document.getElementById('bracketSettings');
                    settings.style.display = e.target.checked ? 'block' : 'none';
                }
                
                if (e.target.id === 'enableTrailingStop') {
                    const options = document.getElementById('trailingStopOptions');
                    options.style.display = e.target.checked ? 'block' : 'none';
                }
            });
            
            console.log('üöÄ Advanced TradingPro Dashboard fully loaded!');
        });

        // Welcome sequence for new users
        function showWelcomeSequence() {
            const messages = [
                'üéâ Welcome to TradingPro Advanced Dashboard!',
                'üìä Paper Trading is enabled by default for safe testing',
                'üîî Live signals are generating automatically',
                '‚öôÔ∏è Check out the Strategy Builder for custom algorithms',
                'üìà All features are ready - Happy Trading!'
            ];
            
            messages.forEach((message, index) => {
                setTimeout(() => {
                    showSuccessMessage(message);
                }, index * 2000);
            });
        }

        // Enhanced dashboard initialization
        const originalShowTradingDashboard = showTradingDashboard;
        showTradingDashboard = function(user) {
            originalShowTradingDashboard(user);
            
            // Show welcome sequence for new users
            setTimeout(() => {
                showWelcomeSequence();
            }, 1000);
            
            // Initialize advanced features
            updateTradingModeDisplay();
            startAdvancedUpdates();
        };

        // Trading Functions
        function executeSignal(symbol, action) {
            showSuccessMessage(`üöÄ Executing ${action} signal for ${symbol}...`);
            
            // Simulate execution
            setTimeout(() => {
                showSuccessMessage(`‚úÖ ${action} order for ${symbol} executed successfully!`);
                updatePortfolioValue();
            }, 2000);
        }

        function skipSignal(button) {
            const signalItem = button.closest('.signal-item');
            signalItem.style.opacity = '0.5';
            button.textContent = 'Skipped';
            button.disabled = true;
        }

        function pauseStrategy(strategyId) {
            showSuccessMessage(`‚è∏Ô∏è Strategy paused successfully`);
            // Update UI to show paused state
            const strategyCard = event.target.closest('.strategy-card');
            const statusBadge = strategyCard.querySelector('.status-badge');
            statusBadge.textContent = '‚óè PAUSED';
            statusBadge.style.background = 'rgba(239, 68, 68, 0.2)';
            statusBadge.style.color = '#ef4444';
            
            event.target.textContent = 'Resume';
            event.target.onclick = () => resumeStrategy(strategyId);
        }

        function resumeStrategy(strategyId) {
            showSuccessMessage(`‚ñ∂Ô∏è Strategy resumed successfully`);
            // Update UI to show running state
            const strategyCard = event.target.closest('.strategy-card');
            const statusBadge = strategyCard.querySelector('.status-badge');
            statusBadge.textContent = '‚óè RUNNING';
            statusBadge.style.background = 'rgba(6, 214, 160, 0.2)';
            statusBadge.style.color = 'var(--accent-color)';
            
            event.target.textContent = 'Pause';
            event.target.onclick = () => pauseStrategy(strategyId);
        }

        function createNewStrategy() {
            showSuccessMessage('üîß Strategy Builder would open here');
        }

        function viewStrategy(strategyId) {
            showSuccessMessage(`üìä Viewing details for strategy: ${strategyId}`);
        }

        function addBroker() {
            showSuccessMessage('üîó Add broker form would open here');
        }

        function syncBroker(brokerId) {
            showSuccessMessage(`üîÑ Syncing ${brokerId} data...`);
            setTimeout(() => {
                showSuccessMessage(`‚úÖ ${brokerId} data synced successfully!`);
            }, 2000);
        }

        function disconnectBroker(brokerId) {
            if (confirm(`Are you sure you want to disconnect ${brokerId}?`)) {
                showSuccessMessage(`‚ùå ${brokerId} disconnected`);
            }
        }

        // Update portfolio value with animation
        function updatePortfolioValue() {
            const portfolioElement = document.querySelector('#portfolioValue');
            const balanceElement = document.querySelector('.balance-display');
            
            if (portfolioElement && balanceElement) {
                const currentValue = parseInt(portfolioElement.textContent.replace(/[‚Çπ,]/g, ''));
                const change = Math.random() * 2000 - 1000; // Random change
                const newValue = currentValue + change;
                
                portfolioElement.textContent = `‚Çπ${newValue.toLocaleString()}`;
                balanceElement.textContent = `‚Çπ${newValue.toLocaleString()}`;
                
                // Animate the change
                portfolioElement.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    portfolioElement.style.transform = 'scale(1)';
                }, 300);
            }
        }

        // Real-time dashboard updates
        function startDashboardUpdates() {
            // Update portfolio every 10 seconds
            const dashboardInterval = setInterval(() => {
                if (document.getElementById('tradingDashboard').style.display !== 'block') {
                    clearInterval(dashboardInterval);
                    return;
                }
                
                // Simulate market movements
                updatePortfolioValue();
                
                // Update market data in the side panel
                updateMarketData();
                
                // Randomly generate new signals (30% chance)
                if (Math.random() < 0.3) {
                    generateNewSignal();
                }
            }, 10000);
        }

        function generateNewSignal() {
            const symbols = ['TCS', 'INFY', 'WIPRO', 'HCL TECH', 'TECH MAHINDRA'];
            const actions = ['BUY', 'SELL'];
            const randomSymbol = symbols[Math.floor(Math.random() * symbols.length)];
            const randomAction = actions[Math.floor(Math.random() * actions.length)];
            
            // Add to signals list if on signals tab
            const signalsList = document.querySelector('#signalsTab .signals-list');
            if (signalsList) {
                const newSignal = createSignalElement(randomSymbol, randomAction);
                signalsList.insertBefore(newSignal, signalsList.firstChild);
                
                // Limit to 5 signals
                if (signalsList.children.length > 5) {
                    signalsList.removeChild(signalsList.lastChild);
                }
                
                showSuccessMessage(`üîî New ${randomAction} signal for ${randomSymbol}!`);
            }
        }

        function createSignalElement(symbol, action) {
            const signalDiv = document.createElement('div');
            signalDiv.className = 'signal-item';
            signalDiv.style.cssText = 'background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); border-left: 4px solid ' + (action === 'BUY' ? 'var(--accent-color)' : '#ef4444') + '; animation: slideIn 0.5s ease;';
            
            const price = (Math.random() * 2000 + 1000).toFixed(2);
            const target1 = (parseFloat(price) * (action === 'BUY' ? 1.02 : 0.98)).toFixed(2);
            const target2 = (parseFloat(price) * (action === 'BUY' ? 1.04 : 0.96)).toFixed(2);
            const stopLoss = (parseFloat(price) * (action === 'BUY' ? 0.98 : 1.02)).toFixed(2);
            
            signalDiv.innerHTML = `
                <div style="display: grid; grid-template-columns: 1fr 2fr 1fr; gap: 20px; align-items: center;">
                    <div>
                        <div style="font-size: 1.2rem; font-weight: bold;">${symbol}</div>
                        <div style="color: ${action === 'BUY' ? 'var(--accent-color)' : '#ef4444'}; font-weight: 600; text-transform: uppercase;">${action} SIGNAL</div>
                        <div style="font-size: 0.8rem; color: var(--text-light);">Just now</div>
                    </div>
                    <div>
                        <div style="font-weight: 600; margin-bottom: 10px;">Entry: ‚Çπ${price}</div>
                        <div style="display: flex; gap: 15px; font-size: 0.9rem; color: var(--text-light);">
                            <span>Target 1: ‚Çπ${target1}</span>
                            <span>Target 2: ‚Çπ${target2}</span>
                            <span>Stop Loss: ‚Çπ${stopLoss}</span>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <button class="btn btn-primary" style="margin-bottom: 10px; padding: 8px 16px;" onclick="executeSignal('${symbol}', '${action}')">Execute</button>
                        <button class="btn btn-secondary" style="padding: 8px 16px;" onclick="skipSignal(this)">Skip</button>
                    </div>
                </div>
            `;
            
            return signalDiv;
        }

        // Logout function
        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                // Clear session
                sessionStorage.removeItem('currentUser');
                
                // Hide dashboard
                document.getElementById('tradingDashboard').style.display = 'none';
                
                // Show main website content
                document.getElementById('home').style.display = 'flex';
                document.getElementById('services').style.display = 'block';
                document.querySelector('.header').style.display = 'block';
                
                showSuccessMessage('üëã Logged out successfully!');
            }
        }

        // Check for existing session on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedUser = sessionStorage.getItem('currentUser');
            if (savedUser) {
                const user = JSON.parse(savedUser);
                showTradingDashboard(user);
            }
        });

        // Success message function
        function showSuccessMessage(message) {
            const successDiv = document.createElement('div');
            successDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #06d6a0, #00b894);
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                z-index: 3000;
                font-weight: 500;
                animation: slideIn 0.3s ease;
                max-width: 350px;
            `;
            successDiv.textContent = message;
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                successDiv.remove();
            }, 5000);
        }
        function showSuccessMessage(message) {
            const successDiv = document.createElement('div');
            successDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #06d6a0, #00b894);
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                z-index: 3000;
                font-weight: 500;
                animation: slideIn 0.3s ease;
            `;
            successDiv.textContent = message;
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                successDiv.remove();
            }, 5000);
        }

        // Data Feed Toggle
        function toggleDataFeed() {
            const feedContent = document.getElementById('feedContent');
            const minimizeBtn = document.querySelector('.minimize-btn');
            
            if (feedContent.style.display === 'none') {
                feedContent.style.display = 'block';
                minimizeBtn.textContent = '‚àí';
            } else {
                feedContent.style.display = 'none';
                minimizeBtn.textContent = '+';
            }
        }

        // Chat Function
        function openChat() {
            alert('Live chat feature would be integrated here!');
        }

        // Load saved theme on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                document.querySelector('.theme-toggle i').className = 'fas fa-sun';
            }

            // Animate elements
            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in-up');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            // Observe service cards for animation
            document.querySelectorAll('.service-card').forEach(el => {
                observer.observe(el);
            });
        });

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Update market data simulation
        function updateMarketData() {
            const feedItems = document.querySelectorAll('.feed-item');
            feedItems.forEach(item => {
                const priceEl = item.querySelector('.price');
                const changeEl = item.querySelector('.change');
                
                if (priceEl && changeEl) {
                    // Simulate price changes
                    const currentPrice = parseFloat(priceEl.textContent.replace(/[^0-9.-]/g, ''));
                    const change = (Math.random() - 0.5) * 0.02 * currentPrice;
                    const newPrice = currentPrice + change;
                    
                    priceEl.textContent = newPrice.toFixed(priceEl.textContent.includes('.') ? 4 : 2);
                    
                    const changePercent = ((change / currentPrice) * 100).toFixed(2);
                    changeEl.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(change > 1 ? 2 : 4)} (${changePercent}%)`;
                    changeEl.className = `change ${change >= 0 ? 'positive' : 'negative'}`;
                }
            });
        }

        // Update market data every 3 seconds
        setInterval(updateMarketData, 3000);

        // Error handling
        window.addEventListener('error', function(e) {
            console.log('Script error caught:', e.message);
        });

        console.log('TradingPro Dashboard loaded successfully!');
    </script>
<script>
function updatePositionsDisplay() {
    console.log("updatePositionsDisplay function triggered. You can implement your logic here.");
    // TODO: Add logic to update UI with live positions
}
</script><script>
function updateMarketWatchDisplay() {
    console.log("updateMarketWatchDisplay function triggered. You can implement your logic here.");
    // TODO: Add logic to update the market watch display
}
</script><script>
function showDashTab(tabName) {
    const tabs = document.querySelectorAll('.dash-tab-content');
    tabs.forEach(tab => tab.style.display = 'none');

    const selectedTab = document.getElementById(tabName + 'Tab');
    if (selectedTab) {
        selectedTab.style.display = 'block';
    }

    const tabButtons = document.querySelectorAll('.tab-btn');
    tabButtons.forEach(btn => btn.classList.remove('active'));

    const activeBtn = Array.from(tabButtons).find(btn => btn.innerText.replace(/\s+/g, '-').toLowerCase().includes(tabName));
    if (activeBtn) {
        activeBtn.classList.add('active');
    }
}
</script></body>
</html>
